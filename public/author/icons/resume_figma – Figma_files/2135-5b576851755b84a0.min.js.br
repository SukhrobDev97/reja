"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7984ab8d-bd79-54f3-8b52-d4264a5bfeef")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[2135],{340427:(e,t,n)=>{n.d(t,{A:()=>X});var o=n(848318),a=n(301168),l=n(762217),r=n(954703),i=n(315696),p=n(721494),s=n(749214);let c=(0,o.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5V8h10v-.5a.5.5 0 0 0-.5-.5m.5 2H7v7.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5zM7.5 6A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm7 7a1 1 0 0 0-.486-.857l-2.5-1.5A1 1 0 0 0 10 11.5v3a1 1 0 0 0 1.515.857l2.5-1.5A1 1 0 0 0 14.5 13m-1.972-.583L13.5 13l-.972.583L12 13.9l-1 .6v-3l1 .6z",clipRule:"evenodd"})})});var d=n(186606),u=n(320953),g=n(999667),m=n(536384),_=n.n(m),f=n(238462),y=n(781239),v=n(655302),w=n(156137),E=n(401970),b=n(967688),h=n(792533),P=n(476421),I=n(755860),T=n(303397),k=n(489082),A=n(963307),S=n(355755),R=n(730143),N=n(313405),x=n(244979),D=n(17753),K=n(698429),C=n(368085),M=n(341090),B=n(967045),U=n(83677),O=n(614892),F=n(712615),V=n(322266),L=n(985908);function H({selected:e,hasFocus:t,flowItemsCount:n,item:a,index:s,hasFile:u,fileKey:g,fileProtoUrl:m,isDragging:f,viewOnly:v,dispatch:w,onMouseDown:I,onMouseMove:T,onMouseUp:k,renamingStartingPointNodeId:A,setRenamingStartingPointNodeId:S,submitRename:R,selectFlowRowAndSetToEditName:K,recordingKey:C}){return o.createElement(M.e,{key:a.nodeID,className:"prototype_flows_panel--flowRow--pqvyi","data-testid":"prototype-flow-panel-row",dragging:f,onDoubleClick:()=>{var e;return e=a.nodeID,void(v||A===e||(S(e),d.X3B.centerViewportOnNodeIfNecessary(e)))},onMouseDown:I,onMouseMove:T,onMouseUp:k,recordingKey:y.Pt(C,"draggableRow"),selected:e&&t,singletonRow:n<=1},!v&&A&&A===a.nodeID?o.createElement(U.m,{defaultValue:a.prototypeStartingPoint.name||"",submitRename:e=>R(a.nodeID,e),recordingKey:y.Pt(C,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>K(e?s-1:s+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):o.createElement(O.JU,{className:"prototype_flows_panel--flowName--kg1JF"},a.prototypeStartingPoint.name),A!==a.nodeID&&o.createElement("div",{className:_()(["prototype_flows_panel--panelInfoContainer--pVsR6","prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ"])},o.createElement(l.o,{display:"contents",eventListeners:["onMouseDown"]},o.createElement(r.K,{onClick:()=>{var e;return e=a.nodeID,void d.glU.selectInstances(e,!d.X3B.isNodeVisibleInViewport(e))},"aria-label":(0,b.t)("proto.flows_panel.select_frame"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.select_frame")}},o.createElement(E.U,{svg:L.A,fallbackSvg:L.A},o.createElement(i.A,null))),o.createElement(r.K,{disabled:!u,onClick:()=>(function(e){let t=d.X3B.currentDeviceType(),n=(0,x.vp)({scalingInfo:{viewportScalingMode:(0,N.qb)(t),contentScalingMode:(0,N.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});w(h.lW({stringToCopy:`${m}${n}`}))})(a.nodeID),"aria-label":(0,b.t)("proto.flows_panel.copy_link"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")}},o.createElement(E.U,{svg:V.A,fallbackSvg:V.A},o.createElement(p.r,null))),o.createElement(r.K,{disabled:!g,onClick:function(){w((0,P.K)({fileKey:g,startingPointNodeId:a.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"aria-label":(0,b.t)("proto.flows_panel.preview"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.preview")}},o.createElement(E.U,{svg:F.A,fallbackSvg:F.A},o.createElement(c,null))))))}let X=function(e){let t=(0,A.kl)("prototypeStartingPointsInfo"),n=(0,a.d4)(R.sS)||"",l=(0,R.q5)(),r=(0,R.Cq)({useSinatraType:!0}),i=(0,a.d4)(e=>e.mirror.appModel.currentSelectedProperty),p=(0,S.eY)(),s=(0,K.ks)(),[c,m]=o.useState(null),_=(0,a.wA)(),E=s||e.viewOnly,h=(0,a.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&E),P=(0,k._W)(t,[]),{collapsedInspectionPanelAtom:N,collapseEnabled:x}=(0,C.QZ)("prototype_flows"),[D,M]=(0,g.fp)(N),U=o.useCallback(()=>{M(!D)},[M,D]);if(o.useEffect(()=>{r||(0,v.x1)("prototyping","No file available in flows panel",{fileKey:n})},[r,n]),!t||s&&0===(P=P.filter(e=>p.get(e.nodeID)?.visible)).length)return null;function F(e){let t=e;e>=P.length?t=0:e<0&&(t=P.length-1),T.Y5.updateAppModel({currentSelectedProperty:{type:d.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),m(P[t].nodeID)}function V(e,t){m(null),t&&u.l7.user("update-prototype-starting-point-name",()=>{d.glU.updatePrototypeStartingPointName(e,t)})}let L=s&&x&&D;return o.createElement(w.k,{name:"prototype_flows_panel"},o.createElement(O.Zk,{className:D?"noBottomPadding":void 0},o.createElement(B.h6,{addProperty:f.lQ,boldHeaderRow:L,currentSelectedProperty:i,dispatch:_,hideAddButton:!0,isPanelBodyCollapsedAtom:x?N:void 0,onChange:e=>{if(0===e.length||0===i.indices.length)return;let t=P.filter((e,t)=>i.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=P[i.indices[0]].nodeID,o=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,a=P[i.indices[i.indices.length-1]].nodeID,l=e[e.length-1].nodeID===a?"":e[e.findIndex(e=>e.nodeID===a)+1].nodeID;u.l7.user("change-starting-points",()=>{d.glU.insertPrototypeStartingPointsBetween(t,o,l)})},onDeleteProperty:E?()=>{}:e=>{let t=P.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&d.glU.deletePrototypeStartingPoints(t)},onHeaderClick:x?U:void 0,openFile:l,pickerShown:null,propertyList:P,recordingKey:"prototypeFlowsList",renderProperty:(e,t,a,l,i,p,s,d,u)=>o.createElement(H,{key:t,dispatch:_,fileKey:n,fileProtoUrl:r?.prototype_url,flowItemsCount:P.length,hasFile:!!r,hasFocus:i,index:t,isDragging:l,item:e,onMouseDown:s,onMouseMove:d,onMouseUp:u,recordingKey:y.Pt("prototypeFlowsList",t),renamingStartingPointNodeId:c,selectFlowRowAndSetToEditName:F,selected:a,setRenamingStartingPointNodeId:m,submitRename:V,viewOnly:!!E}),reversed:!1,selectedPropertyType:d.rrT.PROTOTOTYPE_STARTING_POINT,shouldIgnoreKeyboardEventDuplicateProperty:!0,showVisibleFlowsButton:E&&!L,stylePickerShown:{isShown:!1},title:(0,b.t)("proto.flows"),toggleVisibleFlows:e=>{x&&e.stopPropagation(),I.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:h})))}},83677:(e,t,n)=>{n.d(t,{m:()=>Z,A:()=>J});var o=n(848318),a=n(301168),l=n(954703),r=n(773511),i=n(762217),p=n(749214);let s=(0,o.memo)(function(e){return(0,p.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,p.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1m-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2m1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var c=n(990140),d=n(721494),u=n(92778),g=n(186606),m=n(320953),_=n(536384),f=n.n(_),y=n(813009),v=n(857607),w=n(781239),E=n(401970),b=n(967688),h=n(792533),P=n(696786),I=n(303397),T=n(489082),k=n(963307),A=n(730143),S=n(313405),R=n(244979),N=n(17753),x=n(21614),D=n(410441),K=n(540882),C=n(454805),M=n(755534),B=n(1896),U=n(175393),O=n(27776);let F=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:a}){let[l,r]=(0,o.useState)(e?.description||""),i=(0,o.useRef)(l);(0,o.useEffect)(()=>{i.current=l},[l]);let p=(0,x.uQ)(),s=(0,o.useRef)(p),c=(0,o.useCallback)(()=>{m.l7.user("submit-prototype-starting-point-description",()=>{s.current&&g.glU.updatePrototypeStartingPointDescription(s.current,i.current)}),t()},[t]);(0,o.useEffect)(()=>c,[c]);let d=(0,o.useCallback)(()=>{m.l7.user("blur-prototype-starting-point-description",()=>{s.current&&g.glU.updatePrototypeStartingPointDescription(s.current,i.current)})},[]);return(0,o.useEffect)(()=>(window.addEventListener("blur",d),window.addEventListener("focus",d),()=>{window.removeEventListener("blur",d),window.removeEventListener("focus",d)}),[d]),o.createElement(U.vx,{title:(0,b.t)("proto.starting_point_modal.description"),initialPosition:new C.Mi(n.x-(0,D.hG)(O.M0y),n.y),headerSize:"small",truncateTitleText:!0,dragHeaderOnly:!0,onClose:c},o.createElement(M.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf"},o.createElement("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto"},o.createElement(K.X,{fallback:null,errorFallback:null,placeholder:(0,b.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:l,onInputChange:e=>{B.wt.reportEditAction("change-flow-description"),r(e)},onBlur:d,mountBehavior:"focusAndSelectAll",toolbarOptions:"minimal",toolbarProps:{"aria-label":(0,b.t)("proto.starting_point_modal.description")}}))))};var V=n(614892),L=n(699848);let H="prototype_starting_point_panel--rightIconButton--ID6ZQ";var X=n(322266),z=n(952200),G=n(389075),j=n(80876),Y=n(954184),q=n(546131);function J(e){let[t,n]=(0,k.lJ)("prototypeStartingPoint"),p=(0,P.GS)(),_=!!(0,y.R)(Q),[v,D]=(0,o.useState)(!1),[K,C]=(0,o.useState)(T.E7(t)?.name||""),[M,B]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=T.E7(t)?.name||"";e!==K&&(C(e),!K&&M&&(B(!1),D(!0)))},[t,K,M]);let[U,O]=(0,o.useState)(!1),J=(0,o.useRef)(null),W=(0,o.useRef)(null),$=(0,x.Tv)(),ee=(0,A.Cq)({useSinatraType:!0}),et=!!ee,en=ee?.prototype_url,eo=(0,a.d4)(e=>e.mirror.appModel.urlNodeId),ea=(0,a.wA)(),el=(0,o.useCallback)(()=>{O(!1)},[]);(0,o.useEffect)(()=>{el()},[el,$]);let er=m.nc.user("delete-prototype-starting-points",()=>{$&&g.glU.deletePrototypeStartingPoints($)}),ei=w.rf(w.Pt(e.recordingKey,"minusButton"),"click",e=>{er()}),ep=w.rf(w.Pt(e.recordingKey,"nameLabel"),"click",e=>{D(!0)});(0,o.useEffect)(()=>(I.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ep),()=>{I.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ep)}),[ep]);let es=w.rf(e.recordingKey,"click",e=>{B(!0),m.l7.user("add-prototype-starting-point",()=>{I.Y5.triggerAction("add-prototype-starting-point")})}),ec=$&&$.length>1,ed=(0,T._W)(t,{}),eu=o.createElement(o.Fragment,null,v?o.createElement(Z,{defaultValue:K,submitRename:function(e){D(!1),e?n({name:e,description:(0,T.E7)(t)?T.E7(t)?.description:"",position:(0,T.E7)(t)?T.E7(t)?.position:""}):C(T.E7(t)?.name||"")},recordingKey:w.Pt(e,"startingPointNameInput")}):o.createElement(V.JU,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ep},K)),eg=o.createElement(l.K,{onClick:()=>{O(!0)},htmlAttributes:{"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.edit_description")},"aria-label":(0,b.t)("proto.starting_points.edit_description"),recordingKey:w.Pt(e,"startingPointPanelIcon")},o.createElement(E.U,{svg:j.A,fallbackSvg:j.A},o.createElement(s,null))),em=p?o.createElement(L.DE,{ref:W,label:null,input:eu,icon:eg}):o.createElement(V.fI,{ref:J},eu,o.createElement("span",{className:H},eg));return _?o.createElement(V.Zk,null,o.createElement(V.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R"},o.createElement(V.xw,{extended:!0},(0,b.tx)("proto.starting_points.flow_starting_point_title")),o.createElement("span",{className:"prototype_starting_point_panel--fadeOutOnUnhover--6-o5B"},!ec&&o.createElement(l.K,{disabled:!et,onClick:()=>(function(e){let t=g.X3B.currentDeviceType(),n=(0,R.vp)({scalingInfo:{viewportScalingMode:(0,S.qb)(t),contentScalingMode:(0,S.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});ea(h.lW({stringToCopy:`${en}${n}`}))})(eo),htmlAttributes:{"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")},"aria-label":(0,b.t)("proto.flows_panel.copy_link")},o.createElement(E.U,{svg:X.A,fallbackSvg:X.A},o.createElement(d.r,null)))),o.createElement("span",{className:H},o.createElement(l.K,{onClick:ei,htmlAttributes:{"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},o.createElement(E.U,{svg:z.A,fallbackSvg:G.A},o.createElement(u.O,null))))),ec?o.createElement(V.fI,null,o.createElement(V.UZ,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi"},(0,b.tx)("proto.starting_points.click_to_remove_mixed_content"))):o.createElement(o.Fragment,null,em,U&&o.createElement(F,{startingPoint:ed,closeModal:el,parentPanelRectObject:(p?W.current:J.current).getBoundingClientRect(),recordingKey:w.Pt(e,"startingPointDescriptionModal")}))):ec?null:o.createElement(V.Zk,null,o.createElement(V.fI,{className:f()("prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR draggable_list--hover--yEfA5","prototype_starting_point_panel--hover--5t-WV")},o.createElement(V.xw,{faded:!0,extended:!0},o.createElement(r.E,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onClick:es,recordingKey:w.Pt(e,"panelTitle")},(0,b.tx)("proto.starting_points.flow_starting_point_title"))),o.createElement("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--"},o.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},o.createElement(l.K,{onClick:es,htmlAttributes:{"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.add_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.add_starting_point_tooltip"),recordingKey:w.Pt(e,"plusButton")},o.createElement(E.U,{svg:Y.A,fallbackSvg:q.A},o.createElement(c.e,null)))))))}function Q(e){return e.mirror.selectionProperties.prototypeStartingPoint}function Z(e){let[t,n]=o.useState(e.defaultValue),a=w.AF(e.recordingKey,"change",e=>{n(e.target.value)}),l=w.iQ(e.recordingKey,"blur",m.nc.user("rename-starting-point",()=>e.submitRename(t))),r=w.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===v.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return o.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},o.createElement("input",{autoFocus:!0,className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,dir:"auto",onBlur:l,onChange:a,onFocus:e=>{e.currentTarget.select()},onKeyDown:r,placeholder:"Flow name",type:"text"}))}},930229:(e,t,n)=>{n.d(t,{T:()=>a});var o=n(749214);let a=(0,n(848318).memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.003 7.375A5.5 5.5 0 0 1 16.61 9.5H14a.5.5 0 0 0 0 1h3.5a.5.5 0 0 0 .5-.5V6.5a.5.5 0 0 0-1 0v1.847a6.5 6.5 0 1 0-.128 8.456.5.5 0 1 0-.75-.662 5.5 5.5 0 1 1-6.119-8.766",clipRule:"evenodd"})})})}}]);

//# debugId=7984ab8d-bd79-54f3-8b52-d4264a5bfeef

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/9c8dd3209b93b54310cd2d6c3f9ae30aaf251ed6/2135-5b576851755b84a0.min.js.map