"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="bc4aeacf-be54-5cf5-ba9f-9e37539f7e9c")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[2601],{850568:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(848318),a=r(301168),s=r(768618),i=r(580494),l=r(536384),o=r.n(l),d=r(410441),c=r(454805),u=r(959750),m=r(489082),p=r(963307),y=r(601167),h=r(554326),g=r(314774),b=r(273555),E=r(276595),_=r(27776);let f="offscreen_indicators--indicatorGraphicBlue---nYr-",k="offscreen_indicators--indicatorGraphicPurple--FAz-M",T=(0,d.jz)(_.y9S);function v(){let e=[],t=(0,p.kl)("selectionRegions"),r=(0,m.E7)(t);r&&(e=r);let l=(0,a.d4)(e=>e.mirror.appModel.hoveredNode);if(l&&(0,i.k)().ce_offscreen_indicators_for_hovered_nodes){let t=(0,s.UN)().get(l);if(t){let r=t.absoluteBoundingBox;e=[...e,{bounds:{height:r.h,width:r.w,x:r.x,y:r.y},regionType:t.isPrimaryInstance||t.isInstanceSublayer||t.isComponentish||t.isSymbolSublayer?b.fV.SYMBOLS_ONLY:b.fV.MIXED_OR_NO_SYMBOLS}]}}let o=!!e&&e.length>=1,d=(0,y._X)({subscribeToUpdates_expensive:o});return d&&e?n.createElement(w,{viewportInfo:d,regions:e}):null}function w({viewportInfo:e,regions:t}){let r=(0,n.useContext)(g.kw),s=(0,n.useMemo)(()=>r.getCommentsWrapperOffset(e),[r,e]),i=s.x,l=s.y,o={transform:`translate(${i}px, ${l}px)`},d=(0,a.d4)(e=>e.mirror?.appModel.showUi),c=(0,h.J2)((0,u.UK)().renderRulers)&&d?T:0,m={x:-3.5+c,y:-3.5+c,width:e.width- -7-c,height:e.height- -7-c},p={x:-3.5+c,y:-3.5+c,width:e.width- -7-c,height:e.height- -7-c};return n.createElement(n.Fragment,null,n.createElement(E.p,null,n.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"offscreen_indicators--overlay--pNOlw",style:o},!!t?.length&&n.createElement("div",null,t.map((t,r)=>{let a=(0,y.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),s=(0,y.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),i={x:a.x,y:a.y,width:s.x-a.x,height:s.y-a.y};return i.x<m.x+m.width&&i.x+i.width>m.x&&i.y+i.height>m.y&&i.y<m.y+m.height?null:n.createElement(x,{key:r,viewportBounds:p,viewportInfo:e,indicatorViewportBounds:i,selectionBoundsScaledWidth:function(e,t){let r=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-r,10)}(i,p),selectionBoundsScaledHeight:function(e,t){let r=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-r,10)}(i,p),selectionRegionType:t.regionType})})))))}function x({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:r,selectionBoundsScaledWidth:s,selectionBoundsScaledHeight:i,selectionRegionType:l}){let d=function(e,t){let r=0-t.x,n=0+e.width-t.x,a=0-t.y,s=0+e.height-t.y,i=Math.abs(r)<n?r:n,l=Math.abs(a)<s?a:s,o=r<0!=n<0,d=a<0!=s<0;return o&&d?Math.abs(i)<Math.abs(l)?{x:t.x+i,y:t.y}:{x:t.x,y:t.y+l}:!o&&d?{x:t.x+i,y:t.y}:o&&!d?{x:t.x,y:t.y+l}:{x:t.x+i,y:t.y+l}}(t,{x:r.x+r.width/2,y:r.y+r.height/2});d.x-=s/2,d.y-=i/2;let m=(0,a.d4)(e=>e.mirror?.appModel.showUi),p=(0,h.J2)((0,u.UK)().renderRulers)&&m?T:0,y=1+p,g=Math.max(y,t.width-1-s),E=1+p,_=Math.max(E,t.height-1-i-1),v=c.Mi.bound(d,{min:{x:y,y:E},max:{x:g,y:_}}),w=r.y+r.height<e.y,x=r.y>e.y+e.height,I=r.x+r.width<e.x,S=r.x>e.x+e.width;v.x+=t.x,v.y+=t.y;let L=Math.min(t.width-2,s),N=Math.min(t.height-2,i);return n.createElement("div",{className:"offscreen_indicators--indicator---T9xk",style:{transform:`translate3D(${v.x}px, ${v.y}px, 0)`}},(w||x)&&n.createElement("div",{style:{position:"absolute",height:1.5,width:L,marginTop:x?N-1.5:0},className:o()({[f]:l===b.fV.MIXED_OR_NO_SYMBOLS,[k]:l===b.fV.SYMBOLS_ONLY})}),(I||S)&&n.createElement("div",{style:{position:"absolute",left:0,height:N,width:1.5,marginLeft:S?L-1.5:0},className:o()({[f]:l===b.fV.MIXED_OR_NO_SYMBOLS,[k]:l===b.fV.SYMBOLS_ONLY})}))}},879894:(e,t,r)=>{r.d(t,{m:()=>rx});var n=r(848318),a=r(186606),s=r(999667),i=r(66699),l=r(361964),o=r(696786),d=r(355755),c=r(730143),u=r(554326),m=r(535884),p=r(792682),y=r(141454),h=r(506777),g=r(79810),b=r(126072),E=r(957017),_=r(63340),f=r(228845),k=r(301168),T=r(563029),v=r(898700),w=r(644216),x=r(353231),I=r(859480),S=r(14837),L=r(837988),N=r(605381),C=r(244942),P=r(774121),A=r(967688),F=r(659717),M=r(731991),K=r(896967),O=r(15105),H=r(601167),R=r(17753),B=r(16808),W=r(583484),G=r(555806),U=r(702051);function z(){let e=(0,k.wA)(),t=(0,k.d4)(e=>!!e.modalShown),r=(0,k.d4)(e=>e.versionHistory.compareId),s=a.AWq.getChunkChangeCount(),i=(0,O.Z)("chunk_change_navigator_navigate"),l=(0,K.E)(),o=n.useCallback(e=>{a.Egt.setSelectedNodeAndCanvas(e,!0),i((0,H.QZ)({nodeId:e,...W.ob}),W.kh),l(e)},[i,l]),d=n.useCallback(e=>{t||0===s||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?o(a.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&o(a.glU.navigateToNextChange(1)))},[t,s,o]);return(n.useEffect(()=>{e(M.Q.dequeue({type:F._.SEE_WHATS_CHANGED}))},[e]),n.useEffect(()=>{r&&0!==s&&o(a.glU.navigateToFirstVisibleOrClosestChange())},[s,r,o]),n.useLayoutEffect(()=>{if(0!==s)return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[s,d]),0===s)?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,A.tx)("collaboration.feedback.change_count",{changeCount:s})),n.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},n.createElement(B.K0,{svg:U.A,onClick:e=>{e.stopPropagation(),o(a.glU.navigateToNextChange(-1))},"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===s}),n.createElement(B.K0,{svg:G.A,onClick:e=>{e.stopPropagation(),o(a.glU.navigateToNextChange(1))},"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===s})))}var $=r(625024),D=r(325498),j=r(277930),V=r(989232),Y=r(410441),q=r(359822),X=r(410725),Q=r(61503),Z=r(692711),J=r(561258),ee=r(345964),et=r(834428),er=r(31898),en=r(30575),ea=r(267670),es=r(271326),ei=r(97795),el=r(702038),eo=r(760641),ed=r(125761),ec=r(931451),eu=r(83742),em=r(55116),ep=r(526594),ey=r(253332),eh=r(620964),eg=r(700436),eb=r(715880),eE=r(561327),e_=r(775030),ef=r(295156),ek=r(874728),eT=r(882839),ev=r(536384),ew=r.n(ev),ex=r(857607),eI=r(656329),eS=r(689347),eL=r(710481),eN=r(168852);function eC({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:r}){let s=(0,ec.I)(eu.Cn.AssetsPanel),{activeTab:i,shouldFocusSearchBar:l}=(0,k.d4)(e=>e.leftPanel),o=i===a.xae.ASSETS,d=n.useRef(null),c=(0,k.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),u=(0,eL.vb)({isVisible:o,autofocus:!0,selectOnFocus:!0,ref:d});n.useEffect(()=>{let e=e=>{(eI.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===ex.Uz.KEY_2:e.altKey&&e.keyCode===ex.Uz.KEY_2)&&c!==a.m1T.TEXT&&(u(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c,u]);let m=n.useCallback(t=>{let r;e&&((0,eS.eu)(e.type)?r=e.type:(r={type:eN.I.ALL},e.onSetAssetType(r))),s.setQuery(t,r)},[s,e]),p=ew()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?n.createElement(eL.E1,{autofocus:l,className:p,column:r,entryPointForTracking:"editor:assets_panel",forwardedRef:d,hideSearchIcon:!0,isVisible:o,onChange:m,path:t,placeholder:(0,A.t)("design_systems.assets_panel.search"),query:s.query,recordingKey:"componentsLibrarySearch",selectOnFocus:!0}):n.createElement(eL.aU,{autofocus:l,className:p,entryPointForTracking:"editor:assets_panel",forwardedRef:d,hideSearchIcon:!0,isVisible:o,onChange:m,placeholder:(0,A.t)("design_systems.assets_panel.search"),query:s.query,recordingKey:"componentsLibrarySearch",selectOnFocus:!0})}var eP=r(561882),eA=r(946678),eF=r.n(eA),eM=r(750294),eK=r(292024),eO=r(389541),eH=r(992288),eR=r(680004),eB=r(900980),eW=r(949598),eG=r(789253),eU=r(120846);function ez(e){let{assetType:t,libraryNameByLibraryKey:r,fileKeyToLibraryKey:a,onSetAssetType:s,onSetKeyboardNavigationElement:i,validAssetTypeOptions:l}=e,o=(0,k.wA)(),d=(0,k.d4)(e=>e.modalShown),u=(0,k.d4)(e=>e.dropdownShown),m=(0,k.d4)(c.tB),p=(0,eO.Fl)(),y=n.useCallback(()=>{d?.type===eG.V&&o(er.AS()),V.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:m?.key,assetsPanelVersion:2})},[o,d,m?.key]),h=n.useMemo(()=>{if((0,eR.NX)(p)){let e=Object.entries(a).map(([e,t])=>({name:r[t]??"",key:e,library_key:t}));return(0,eR.k9)({libraries:e,approvedLibraryKeysByResourceType:p}),e.map(({key:e})=>e)}return Object.keys(r??{}).sort((e,t)=>eM.f.LEXICOGRAPHICALLY(r[e],r[t]))},[p,a,r]),g=(0,es.n1)(),[b,E]=eF()(h,e=>!(0,eK.wJ)(e)),_=E.length>0&&g,f=n.useMemo(()=>({format:e=>{switch(e.type){case eN.I.RECENT:return(0,A.t)("design_systems.assets_panel.dropdown_type_recents");case eN.I.ALL:return(0,A.t)("design_systems.assets_panel.dropdown_type_all_libraries");case eN.I.LOCAL:return(0,A.t)("design_systems.assets_panel.created_in_this_file");case eN.I.FILE:return r[e.libraryKey]??"";case eN.I.SITE_KIT:return""}},isEqual:e$}),[r]);return n.createElement(eU.l6,{chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",className:"sidebar_asset_type_select--select--PTmwH",dispatch:o,dropdownAlignment:"left",dropdownShown:e.useLocalState?e.dropdownShown:u,dropdownWidth:260,formatter:f,id:"component-sidebar-asset-type-select",inputClassName:"sidebar_asset_type_select--input--sSEn2",inputRef:i,onChange:s,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,onShowDropdown:y,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,openOnKeyPressed:[ex.Uz.SPACE,ex.Uz.ENTER],property:t,rightIcon:n.createElement(eW.P,{libraryKey:t.type===eN.I.FILE?t.libraryKey:void 0})},!!l[eN.I.ALL]&&n.createElement(eU.c$,{value:{type:eN.I.ALL}}),!!l[eN.I.RECENT]&&n.createElement(eU.c$,{value:{type:eN.I.RECENT}}),!!l[eN.I.LOCAL]&&n.createElement(eU.c$,{value:{type:eN.I.LOCAL}}),b.length>0?n.createElement(eU.sK,null):null,b.length>0?n.createElement(eU.c$,{isHeader:!0,formattedValue:m?.org?.name?(0,A.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:m.org.name}):(0,A.t)("design_systems.assets_panel.dropdown_libraries")}):null,b.map(e=>(0,eR.sF)(a[e])?n.createElement(eU.c$,{key:e,value:{type:eN.I.FILE,libraryKey:a[e]},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(eH.FX,null)}):n.createElement(eU.c$,{key:e,value:{type:eN.I.FILE,libraryKey:a[e]},fullWidth:!0})),_?n.createElement(eU.sK,null):null,_?n.createElement(eU.c$,{isHeader:!0,formattedValue:(0,A.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,_&&E.map(e=>n.createElement(eU.c$,{key:e,value:{type:eN.I.FILE,libraryKey:a[e]},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(eB.t,null)})))}function e$(e,t){return e.type===eN.I.FILE&&t.type===eN.I.FILE?e.libraryKey===t.libraryKey:e.type===t.type}var eD=r(781239),ej=r(346480),eV=r(951032);function eY({disabled:e,isList:t,onSetKeyboardNavigationElement:r,onToggleViewMode:a,recordingKey:s}){let i=t?(0,A.t)("design_systems.assets_panel.show_as_grid"):(0,A.t)("design_systems.assets_panel.show_as_list");return n.createElement(B.K0,{ref:r,recordingKey:eD.Pt(s,"toggleComponentsSidebarViewMode"),"data-tooltip-type":R.Ib.TEXT,"data-tooltip":i,svg:t?ej.A:eV.A,onClick:a,disabled:e})}var eq=r(669465),eX=r(712964),eQ=r(4881),eZ=r(336004);let eJ=(0,eQ.Wh)(()=>(0,s.eU)(0)),e0=(0,eQ.Wh)(()=>(0,s.eU)(eZ.Bk.Grid));var e1=r(391375),e4=r(475166);function e5(e,t,r){return null!=e&&(t[e.type]||e.type===eN.I.FILE&&r[e.libraryKey])?e:{type:eN.I.ALL}}var e8=r(587745),e2=r(106358),e6=r(692454),e3=r(138842);function e7(e,t){return`${t}:${e.key}`}function e9(e){return`${e}:stickySection`}var te=r(722692),tt=r(660376),tr=r(580494),tn=r(550984),ta=r(901558),ts=r(865114),ti=r(540698),tl=r(345249),to=r(720522),td=r(925085),tc=r(446244),tu=r(87148),tm=r(555958),tp=r(452086),ty=r(940016),th=r(410739),tg=r(357741),tb=r(796490),tE=r(824662),t_=r(709114),tf=r(444441),tk=r(478581),tT=r(645801),tv=r(775065);function tw({asset:e,fileName:t,sourceForTracking:r,thumbHeight:a,thumbLayout:i,thumbWidth:l,viewMode:o,sectionNameForTracking:d,sectionPosition:c,noFlyout:u,preventDrag:p,disableContextMenu:y}){let h=(0,k.wA)(),g=(0,k.d4)(e=>e.dropdownShown),{query:b,searchOption:E}=(0,ec.I)(eu.Cn.AssetsPanel),_=(0,k.d4)(eg.dK),f=(0,k.d4)(m.F9),T=(0,s.md)(ty.T),v=E?.type===eN.I.ALL,w=(0,eO.fV)(e.library_key),x=(0,tu.fd)(e.library_key),I=v&&(w||x),S=n.useRef(null),L=(0,tm.kH)(e.name),N=(0,tl.NG)({text:L,textRef:S}),C=n.useRef(null),P=(0,tl.NG)({text:t??"",textRef:C}),A=g?.type===t_.K.ASSETS_PANEL?g?.data?.component:void 0,F=A?.node_id===e.node_id,M=o===eZ.Bk.List,K=M?"list-no-padding":"grid",O=!!b,H=(0,tg.F)(e,t_.K.ASSETS_PANEL,c,d),R=(0,th.n)(e),B=(0,ts.ZC)(R),W=!u;n.useEffect(()=>{R&&!B&&h(tc.jD())},[R,h,B]);let G=e.isLocal&&(0,ti.PN)()?(0,tf.eT)(e.node_id,_).join("-"):e.node_id,U="Local components"===d||"Local private components"===d||e.isLocal,z=i!==tk.rp.SMALL&&!M,$=!M&&(0,tr.k)().api_asset_search_with_scores,D=(0,tb.Y)(e),j=M?a:a-2,V=M?l:l-2,Y=n.useMemo(()=>p?void 0:{sourceForTracking:r,clickToInsert:!1,afterSuccessfulInsert:tp.$z,sectionNameForTracking:d},[p,d,r]),q=U?n.createElement(tE.MT,{alwaysShowBorder:!0,buttonProps:{onContextMenu:y?void 0:H},displayType:K,draggable:Y,fileName:N||P?t:void 0,height:j,hideNameOverlay:z,isFilePublished:f,isSearch:O,item:e,numVariants:D,recordingNodePath:G,sectionPosition:c,shouldHideTooltip:W||F||R,showTooltipImmediately:!1,useBaseTile:!0,width:V}):n.createElement(tE.lX,{alwaysShowBorder:!0,buttonProps:{onContextMenu:y?void 0:H},displayType:K,draggable:Y,fileName:N||P?t:void 0,height:j,hideNameOverlay:z,isSearch:O,item:e,numVariants:D,recordingNodePath:G,sectionPosition:c,shouldHideTooltip:W||F||R,showName:!0,showTooltipImmediately:!1,useBaseTile:!0,width:V});return n.createElement("div",{className:M?tT.AD:tT.iE},M?q:n.createElement("div",{className:ew()(tT.QX,{[tT.Gr]:R,[tT.HR]:R&&T})},q),z&&n.createElement("div",{role:"button",className:tT.Bm,style:{width:l}},n.createElement("span",{className:tT.UU,ref:S},L),W&&n.createElement(to.B,{ariaHidden:!0,className:tT.OW,svg:tv.A})),z&&!!t&&n.createElement(td.Y,{spacing:0,direction:"horizontal"},n.createElement("div",{className:ew()(tT.Md,tT.Rm),ref:C,style:I?{maxWidth:l-eW.J}:{width:l}},t),I&&n.createElement(eW.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),$&&n.createElement(n.Fragment,null,n.createElement("div",{className:ew()(tT.Md,tT.Rm),style:I?{maxWidth:l-eW.J}:{width:l}},"Score: "+(e.server_score?.toFixed(2)??"N/A")),n.createElement("div",{className:ew()(tT.Md,tT.Rm),style:I?{maxWidth:l-eW.J}:{width:l}},"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")")),W&&M&&n.createElement(to.B,{ariaHidden:!0,className:tT.Ki,svg:tv.A}))}var tx=r(297638),tI=r(863270),tS=r(486383),tL=r(475869);let tN="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",tC="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",tP="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var tA=r(523860),tF=r(85206);let tM=e=>"isExpandable"in e&&e.isExpandable,tK=(e,t)=>{switch(e){case tN:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case tP:return tC;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},tO=e=>{let t=[];if(e&&e.length){t.push(n.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let r=e.slice(1).join(" / ");t.push(n.createElement("div",{className:tC,key:r},r,"\xa0"))}return t};class tH extends n.Component{componentDidUpdate(e){tM(this.props)&&tM(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,i.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?tN:tP,t=tM(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",r=tK(e,this.props.shouldShowDividerLine),a=tM(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return n.createElement(tI.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!tM(this.props)&&this.props.isExpanded},trackingTargets:tS.K.RCS},n.createElement("div",{className:ew()(r,e,t,a)},tM(this.props)&&n.createElement(to.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?tA.A:tF.A}),tM(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&n.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),tM(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?tO(this.props.stickyHeadertokens):n.createElement("div",{className:r},this.props.title),(0,eR.sF)(this.props.subscribedLibraryKey)&&n.createElement("div",{className:tx.s.flex.alignCenter.justifyCenter.ml4.$},n.createElement(eH.KP,{libraryKey:this.props.subscribedLibraryKey})),((0,tu.o3)(this.props.subscribedLibraryKey)||(0,tu.Ag)(this.props.subscribedLibraryKey))&&n.createElement("div",{className:tx.s.flex.alignCenter.justifyCenter.ml4.$},n.createElement(eB.E,{libraryKey:this.props.subscribedLibraryKey,showTooltip:!0,redirectToHubFile:!0}))))}}tH.H1_HEIGHT=(0,Y.hG)(tL.BS),tH.H3_HEIGHT=(0,Y.hG)(tL.T);class tR extends n.Component{render(){return n.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}tR.HEIGHT=(0,Y.hG)(tL.FX);let tB=(0,Y.hG)(tL.FX),tW=(0,Y.hG)(tL.FX)/2,tG=(0,Y.hG)(tL.Nz),tU=(0,Y.hG)(tL.cP);function tz({parent:e,outputElements:t,libraryNameByLibraryKey:r,items:a,keyPrefix:s,sharedOptions:i,sectionNameForTracking:l}){let o=(0,tk.PI)(a,!0),d={layout:o,...i},c=(0,tk.A5)(d),{width:u,height:m}=(0,tk.rj)(d,c),p=i.isList?1:0,y=i.isList?0:tG,h=i.isList||!r?0:tU,g=m+(i.isList?tW:tB)+y+h+p+(i.isList?0:-2);(0,tr.k)().api_asset_search_with_scores&&(g+=2*(0,Y.hG)(tL.uY));let b=u+(i.isList?tW:tB)+(i.isList?0:-2),E=0,_=tn.oz.getNextRenderedElementTop(t)+tW;for(let[d,p]of a.entries()){let a=i.isList?_+E*g:_+Math.floor(E/c)*g,y=i.isList?0:3+E%c*b,h=(0,ta.V)(p),f=p.library_key?r?.[p.library_key]:void 0;t.push({parent:e,type:tn.zq.TILE,top:a,left:y,height:g,key:`${s}:${h}`,element:function({item:e,fileName:t,sourceForTracking:r,sectionNameForTracking:a,thumbLayout:s,thumbHeight:i,thumbWidth:l,isList:o,sectionPosition:d}){return n.createElement(tw,{asset:e,fileName:t,sourceForTracking:r,sectionNameForTracking:a,thumbLayout:s,thumbHeight:i,thumbWidth:l,viewMode:o?eZ.Bk.List:eZ.Bk.Grid,sectionPosition:d})}({containerWidth:i.containerWidth,fileName:f,sourceForTracking:i.sourceForTracking,sectionNameForTracking:l,thumbLayout:o,thumbHeight:m,thumbWidth:u,isList:i.isList,item:p,isExpanded:i.isExpanded,sectionPosition:d}),item:p,numCols:c,containerWidth:i.containerWidth,sectionNameForTracking:l,sectionPosition:d}),E+=1}}let t$=(e,t,r)=>{let a=e9(r.keyPrefix),s=tn.oz.getNextRenderedElementTop(t),i={parent:e,type:tn.zq.ROW,top:s,height:"h1"==r.size?tH.H1_HEIGHT:tH.H3_HEIGHT,key:a,element:n.createElement(tH,{size:r.size,isExpandable:!0,isExpanded:r.isExpanded,title:r.title,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:null,stickyHeadertokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,isFixed:!1,subscribedLibraryKey:r.subscribedLibraryKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:r.isExpanded,getExpandableElement:e=>n.createElement(tH,{size:r.size,isExpandable:!0,isExpanded:e,title:r.title,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:null,stickyHeadertokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,subscribedLibraryKey:r.subscribedLibraryKey}),sectionNameForTracking:r.sectionNameForTracking,rowType:r.rowType,fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:"component_sidebar--stickyHeaderSpacer--SaKsM"}),n.createElement(tH,{size:"h1",isExpandable:!0,isExpanded:r.isExpanded,title:r.title,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:null,stickyHeadertokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,isFixed:!0,subscribedLibraryKey:r.subscribedLibraryKey}))};return t.push(i),i};function tD({prevParent:e,outputElements:t,inputSubtree:r,inputParentTree:a,keyPrefix:s,sharedOptions:i,sectionNameForTracking:l,hideTitle:o}){let d=e7(r,s),c=!o&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(r,a),u=function(e,t,r,n,a,s){if(!e)return null;let i=e7(n,a),l=e9(i),o=s.isExpanded(l,(0,te.pR)(n.type,n.sectionNameForTracking));switch(n.type){case"FILE":return t$(null,r,{keyPrefix:i,size:"h1",title:n.name,isExpanded:o,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedLibraryKey:n.subscribedLibraryKey,sectionNameForTracking:n.sectionNameForTracking,rowType:tn.l$.LIBRARY});case"PAGE":return t$(t,r,{keyPrefix:i,title:n.name,size:"h3",isExpanded:o,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:tn.l$.PAGE});case"NAME_GROUP":return t$(t,r,{keyPrefix:i,size:"h3",title:n.flattenedPath?n.flattenedPath:n.name,isExpanded:o,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:void 0,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:tn.l$.NAME_GROUP});case"ASSET_TYPE":let d=tj(n.sectionNameForTracking);return t$(t,r,{keyPrefix:i,size:"h3",title:n.name,isExpanded:!0,sectionNameForTracking:n.sectionNameForTracking,rowType:d})}}(c,e,t,r,s,i),m=u?u.children:t,p=u||e;if((0,tr.k)().dse_templates_proto){let e=r.subtrees.find(e6.Qe);null!=e&&tD({prevParent:null,outputElements:m,inputSubtree:e,inputParentTree:r,keyPrefix:s,sharedOptions:i,sectionNameForTracking:e.sectionNameForTracking})}switch(r.type){case"PAGE":case"ASSET_TYPE":case"FILE":tz({parent:p,outputElements:m,items:r.items,keyPrefix:d,sharedOptions:i,sectionNameForTracking:l});break;case"NAME_GROUP":r.skipElementsInRendering||tz({parent:p,outputElements:m,items:r.items,keyPrefix:d,sharedOptions:i,sectionNameForTracking:l});break;default:(0,tt.xb)(r.type)}for(let e of r.subtrees)(0,tr.k)().dse_templates_proto&&(0,e6.Qe)(e)||tD({prevParent:p,outputElements:m,inputSubtree:e,inputParentTree:r,keyPrefix:d,sharedOptions:i,sectionNameForTracking:l});"FILE"===r.type&&c&&function(e,t,r){let a=tn.oz.getNextRenderedElementTop(t);t.push({parent:e,type:tn.zq.SEPARATOR,top:a,height:r.size,key:`${r.keyPrefix}:spacer${r.size}`,element:n.createElement(tR,{size:r.size})})}(p,m,{keyPrefix:d,size:16})}let tj=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?tn.l$.LOCAL_TEMPLATES:tn.l$.TEMPLATES:t?tn.l$.LOCAL_COMPONENTS:tn.l$.COMPONENTS},tV="root",tY=[];function tq(e,t,r){let n=[];return e&&tD({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:tV,sharedOptions:r,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),n}var tX=r(562027);let tQ="library-section-asset-type-v2";function tZ(e){switch(e){case"all":return{type:eN.I.ALL};case"recent":return{type:eN.I.RECENT};case"local":return{type:eN.I.LOCAL};default:return{type:eN.I.FILE,libraryKey:(0,tX.l)(e)}}}var tJ=r(331084),t0=r(316581),t1=r(185643),t4=r(901878),t5=r(27776);let t8=(0,Y.hG)(t5.gNA),t2={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function t6(e,t){(0,V.sx)("Component Sidebar Viewed",{viewMode:(0,eZ.RN)(e),assetsPanelVersion:2,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,componentSuggestionSessionId:(0,e_.r6)()})}function t3({containerSizingOptions:e,recordingKey:t}){let r=(0,ed.iZ)(),a=(0,c.q5)(),[i,l]=(0,s.fp)(eJ),o=(0,j.A)(e=>{l(e),r&&(0,x.uE)("action_left_panel_scroll",{user:r},{assetsPanelVersion:2,tab:"assets",fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0})},500),[d,u]=(0,s.fp)(e0);(0,q.h)(()=>{t6(d,a)});let m=n.useCallback(()=>{u(e=>{let t=e===eZ.Bk.Grid?eZ.Bk.List:eZ.Bk.Grid;return t6(t,a),t})},[a,u]);return n.createElement(J.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},n.createElement(t7,{initialScrollTop:i,onScroll:o,viewMode:d,toggleViewMode:m,containerSizingOptions:e,recordingKey:t}))}function t7({initialScrollTop:e,onScroll:t,viewMode:r,toggleViewMode:a,containerSizingOptions:i,recordingKey:l}){let o=(0,k.wA)(),d=(0,k.d4)(e=>e.dropdownShown),u=(0,k.d4)(m.e_),p=(0,k.d4)(eh.h),y=(0,k.d4)(eg.dK),h=(0,k.d4)(eg.Xt),g=(0,k.d4)(eb.P),b=(0,k.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),E=(0,k.d4)(e=>e.isFreeUser),_=(0,k.d4)(e=>e.user),f=(0,Q.Av)(),T=(0,c.q5)(),v=(0,e3.D)(),{query:w,searchSessionId:x}=(0,ei.Gq)();(0,tJ.y)(),(0,ea.S)();let I=(0,J.q_)();n.useEffect(()=>{o(et.cr({shouldSearchDefaultLibraries:!1}))},[o]);let{assetType:S,libraryNameByLibraryKey:L,fileKeyToLibraryKey:N,onSetAssetType:C,scrollContent:P,validAssetTypeOptions:F}=function({containerSizingOptions:e,viewMode:t}){var r;let a=function(){let e=(0,k.d4)(m.e_),t=(0,k.d4)(c.tB),r=(0,k.d4)(e=>e.hubFiles),a=(0,k.d4)(m.MH),i=(0,k.d4)(m.dM),l=(0,k.d4)(eb.P),o=(0,es.n1)(),d=(0,s.md)(e2.qp),u=(0,eO.Fl)(),p=t?.teamId?l[t.teamId]:null,y=!!p&&(0,ey.w5)(p),h=n.useMemo(()=>(0,eZ.Sg)(a,i),[a,i]),g=(0,eZ.$1)({library:e,fileDataByLibraryKey:d}),b=(0,eZ.Tk)(e,r),E=n.useMemo(()=>o?b:null,[o,b]);return n.useMemo(()=>(0,e6.Nx)({localLibraryItemsInfo:h,subscribedItemsInfo:g,subscribedCommunityItemsInfo:E,defaultSubscribedItemsInfo:(0,eZ.Mt)(),canPublish:y,currentFileKeyForPublish:t?(0,e8.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:u}),[h,g,E,y,t,u])}(),{productComponents:i}=(0,e1.g5)(e4.$A.Design),{query:l}=(0,ec.I)(eu.Cn.AssetsPanel),o=(0,e3.D)(),d=n.useMemo(()=>({productComponents:i}),[i]),u=n.useMemo(()=>{var e;return l?eN.v:(e=a.localSubtree,{[eN.I.ALL]:!0,[eN.I.RECENT]:!!i.length,[eN.I.LOCAL]:e.items.length>0||e.subtrees.length>0,[eN.I.FILE]:!1,[eN.I.SITE_KIT]:!1})},[l,i,a.localSubtree]),p=(r=a.subscribedFileSubtrees,n.useMemo(()=>{let e={};for(let[,t]of Object.entries(r))t?.subscribedLibraryKey&&(e[t.subscribedLibraryKey]=t.name);return e},[r])),y=a.fileKeyToLibraryKey,{assetType:h,onSetAssetType:g}=function(e,t){let[r,a]=n.useState(!1),[s,i]=n.useState({type:eN.I.ALL}),l=(0,k.wA)(),o=(0,k.d4)(eS.q5),d=(0,c.q5)();n.useEffect(()=>{r||"loading"===e||(i(e5(function(){if(D.x4)try{let e=D.x4.getItem(tQ);if(!e)return;return tZ(e)}catch(e){return}}(),e,t)),a(!0))},[r,e,t]);let u=n.useCallback(e=>{(!o||(0,eS.eu)(e))&&(i(e),D.x4?.setItem(tQ,function(e){switch(e.type){case eN.I.ALL:return"all";case eN.I.RECENT:return"recent";case eN.I.LOCAL:return"local";case eN.I.FILE:return e.libraryKey;case eN.I.SITE_KIT:return""}}(e)),o&&l(et.gP({searchOptions:e})),V.az.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!o,fileKey:e.type===eN.I.FILE?e.libraryKey:void 0,openFileKey:d?.key,fileTeamId:d?.teamId??void 0,fileOrgId:d?.parentOrgId??void 0,assetsPanelVersion:2}))},[o,l,d?.key,d?.parentOrgId,d?.teamId]),m=n.useCallback(e=>e.key===tQ&&null!=e.newValue,[]),p=n.useCallback(r=>{if(!r)return;let n=tZ(r);"loading"!==e&&i(e5(n,e,t))},[e,t]);return(0,D.tl)({onSync:p,shouldSyncValue:m}),{assetType:s,onSetAssetType:u}}(o?"loading":u,p),b=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:r,treeWithSubtrees:a,viewMode:i}){let[l,o]=n.useState(!1),d=i===eZ.Bk.List,c=(0,ec.I)(eu.Cn.AssetsPanel),u=(0,s.md)(e2.oE),m=n.useMemo(()=>({isList:d,isExpanded:te.xO,sourceForTracking:eZ.mZ,...t}),[t,d]),p=n.useMemo(()=>{let{query:e,results:{normalizedSearchResults:t,unsubscribedSearchResults:r}}=c;if(!e)return tY;let a=t.length+r.length;if(0===a)return tY;!l&&0===t.length&&r.length>0&&o(!0);let s=[];return a>0&&!function({outputElements:e,results:t,moreResults:r,showMoreResults:a,keyPrefix:s,overallOptions:i,libraryNameByLibraryKey:l,toggleShowMoreResults:o,parent:d}){if(t.length>0&&tz({parent:d??null,outputElements:e,items:t,keyPrefix:`${s}:results`,sharedOptions:i,libraryNameByLibraryKey:l,sectionNameForTracking:"Primary search results"}),r.length>0){let t=tn.oz.getNextRenderedElementTop(e);e.push({parent:d??null,type:tn.zq.ROW,top:t,height:40,key:`${s}:moreResultsLink`,element:n.createElement("div",{className:"component_sidebar--text--g20jk"},a&&(0,A.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!a&&n.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:o},(0,A.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:r.length}))),sectionNameForTracking:"More search results"}),a&&tz({parent:null,outputElements:e,items:r,keyPrefix:`${s}:moreResults`,sharedOptions:i,libraryNameByLibraryKey:l,sectionNameForTracking:"More search results"})}}({outputElements:s,results:t,moreResults:r,showMoreResults:l,keyPrefix:`${tV}:searchResults`,overallOptions:m,libraryNameByLibraryKey:u,toggleShowMoreResults:()=>{o(e=>!e)}}),s},[c,l,m,u]),{productComponents:y}=r,h=n.useMemo(()=>{if(!y.length)return tY;let e=[];return tz({parent:null,outputElements:e,items:y,keyPrefix:`${tV}:recentlyUsed`,sharedOptions:m}),e},[y,m]),g=n.useMemo(()=>tq(a.localSubtree,a.tree,m),[a.localSubtree,a.tree,m]),b=n.useMemo(()=>e.type===eN.I.FILE?Object.entries(a.fileKeyToLibraryKey).find(([t,r])=>e.libraryKey===r)?.[0]??"":"",[e,a.fileKeyToLibraryKey]),E=n.useMemo(()=>tq(e.type===eN.I.FILE?a.subscribedFileSubtrees[b]:void 0,a.tree,m),[e.type,b,m,a.subscribedFileSubtrees,a.tree]),_=n.useMemo(()=>{let e=[];return!function(e,t,r,n){if((0,tr.k)().dse_templates_proto){let a=t.subtrees.find(e6.Qe);null!=a&&tD({prevParent:null,outputElements:e,inputSubtree:a,inputParentTree:t,keyPrefix:r,sharedOptions:n,sectionNameForTracking:a.sectionNameForTracking})}for(let a of(t.items.length>0&&tz({parent:null,outputElements:e,items:t.items,keyPrefix:r,sharedOptions:n}),t.subtrees))(0,tr.k)().dse_templates_proto&&(0,e6.Qe)(a)||tD({prevParent:null,outputElements:e,inputSubtree:a,inputParentTree:t,keyPrefix:r,sharedOptions:n,sectionNameForTracking:a.sectionNameForTracking})}(e,a.tree,tV,m),e},[m,a.tree]);return c.query?p:e.type===eN.I.RECENT?h:e.type===eN.I.LOCAL?g:e.type===eN.I.FILE?E:_}({assetType:h,containerSizingOptions:e,recentlyUsedItems:d,treeWithSubtrees:a,viewMode:t});return{assetType:h,libraryNameByLibraryKey:p,fileKeyToLibraryKey:y,onSetAssetType:g,scrollContent:b,validAssetTypeOptions:u}}({viewMode:r,containerSizingOptions:i}),[M,K]=(0,s.fp)(ef.dL);n.useEffect(()=>{M&&(C({type:eN.I.FILE,libraryKey:M}),K(null))},[M,C,K]);let O=(0,eo.LR)(),H=(0,k.d4)(e=>e.universalInsertModal.showing),R=n.useCallback(()=>{H&&O()},[O,H]),B=n.useCallback((e,t,r)=>{R(),o((0,er.to)({type:eX.m,data:{asset:e,searchSessionId:x??void 0,query:w??void 0,sectionPosition:t,sectionNameForTracking:r,assetTypeDropdownSelection:S?.type,containerWidth:i.containerWidth,onGetKeyboardNavigationItemById:I}}))},[S,i.containerWidth,o,R,I,x,w]),W=n.useMemo(()=>({onOpenFlyout:B,assetTypeDropdownSelection:S?.type}),[S,B]);(0,t1.d)({allElements:P});let G=r===eZ.Bk.List,U=(0,ec.I)(eu.Cn.AssetsPanel),z=0===P.length,$=d?.type===t_.K.ASSETS_PANEL,j=$&&d?.data?.component||null,Y=(0,t0.K)(!0),q=n.useCallback(()=>{$||(0,el.wr)()},[$]),[ed,e_]=(0,D.Vc)("has-auto-expanded-component-libraries-for-nux",!1),eT=(0,es.n1)(),ev=n.useRef(null);n.useEffect(()=>{let e=ev.current;e&&0!==P.length&&eT&&!ed&&e.expandAllComponentLibraries(308)>0&&e_(!0)},[ed,eT,P.length,e_]);let ew=n.useCallback(()=>{let e=!!U.query,t=0===P.length;return n.createElement("div",null,e&&t&&n.createElement(ek.Wq,null),!e&&t&&n.createElement(ek.od,null))},[U.query,P.length]),ex=v||U.isLoading,eI=(0,ep.jO)(),eL=T?.teamId?g[T.teamId]:null,eC=(0,X.Rs)(em.kQI,{id:T?.teamId??""},{enabled:!!T?.teamId}),eP=eC.data?.team?.hasPermission,eA=!b&&E&&(!eL||!(0,ey.w5)(eL)&&eP)&&T?.canEdit&&eI&&Object.keys(u.local.components).length>0&&(0,en.Hz)(_?.id);return n.createElement(eq.U.Provider,{value:W},n.createElement(t9,{assetType:S,componentsEmpty:z,fileKeyToLibraryKey:N,isComponentSidebarInitialLoading:v,isList:G,isSearching:!!U.query,libraryNameByLibraryKey:L,onSetAssetType:C,onToggleViewMode:a,recordingKey:l,validAssetTypeOptions:F}),ex?n.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},n.createElement(ee.kt,null)):n.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},n.createElement(Z.O,{ref:ev,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",enableKeyboardNavigation:!0,fileKey:T?.key,getViewportHeight:e=>e-2*f,initialScrollTop:e,isList:G,isTileSelected:e=>!!e.item.isLocal&&h&&(0,eE.sp)(y,h,e.item.node_id),onMouseUp:q,onScroll:t,orgId:T?.parentOrgId??void 0,recordingKey:"componentsListContainer",renderEmptyState:ew,scrollContent:P,shouldRefocusAfterKeyboardInsert:S.type===eN.I.RECENT,teamId:T?.teamId??void 0,topOffset:t8,width:i.containerWidth}),!!j&&n.createElement(t_.h,{selectedView:p,dropdownShown:d,onJumpToLocalComponent:Y,onOpenFlyout:B,usePortal:!0}),eA&&n.createElement(t4.V,null)))}function t9({assetType:e,componentsEmpty:t,isList:r,isSearching:a,isComponentSidebarInitialLoading:s,libraryNameByLibraryKey:i,fileKeyToLibraryKey:l,onSetAssetType:o,onToggleViewMode:d,validAssetTypeOptions:c,recordingKey:u}){let m=t2.improved,{setKeyboardNavigationElement:p}=(0,J.M3)({path:m.libraryModal.path,column:m.libraryModal.column}),{setKeyboardNavigationElement:y}=(0,J.M3)({path:t2.improved.dropdown.path,column:t2.improved.dropdown.column}),{setKeyboardNavigationElement:h}=(0,J.M3)({path:m.viewToggle.path,column:m.viewToggle.column});return n.createElement("div",null,n.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},n.createElement(eC,{searchOptions:{type:e,onSetAssetType:o},keyboardNavigationPath:m.search.path,keyboardNavigationColumn:m.search.column}),n.createElement(eP.b,{entrypoint:eT.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:p,recordingKey:u})),s||t&&!a?null:n.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},n.createElement(ez,{assetType:e,libraryNameByLibraryKey:i,fileKeyToLibraryKey:l,onSetAssetType:o,onSetKeyboardNavigationElement:y,validAssetTypeOptions:c}),n.createElement(eY,{isList:r,onToggleViewMode:d,onSetKeyboardNavigationElement:h,recordingKey:u})))}var re=r(399906),rt=r(765917),rr=r(359418),rn=r(453761),ra=r(149928),rs=r(412840),ri=r(353956),rl=r(762703),ro=r(485558),rd=r(773511),rc=r(979890),ru=r(67188),rm=r(201588),rp=r(226455),ry=r(214758);function rh({showTabs:e,activeTab:t,isComparingChanges:r,pageTabChevron:s,currentPageName:i,onCanvasSearch:l,onPageContextMenu:o,onTogglePages:d,recordingKey:c}){let u=(0,rl.U)(),m=(0,I.dh)(),p=(0,eD.rf)(eD.Pt(c,"collapsedRow"),"contextmenu",(0,n.useCallback)(e=>{(0,ru.jo)(e),o({nodeId:m,clientX:e.clientX,clientY:e.clientY})},[o,m]));return n.createElement(ro.y,{withBorder:!0},e&&n.createElement(n.Fragment,null,n.createElement(rm._,{onClick:l}),n.createElement(rc.Bx,{className:t===a.xae.LAYERS?ry.yR:ry.Mf,dataTestId:rp.pk,onMouseDown:u.showLayersPanel,onContextMenu:ru.jo,"data-label":(0,A.t)("fullscreen.pages_panel.layers_tab"),recordingKey:eD.Pt(c,"tab","layers"),innerText:"Layers"},(0,A.tx)("fullscreen.pages_panel.layers_tab")),n.createElement(rc.Bx,{className:ry.dB,onMouseDown:()=>u.showPublish(),onContextMenu:ru.jo,recordingKey:eD.Pt(c,"tab","assets"),innerText:"Assets","data-onboarding-key":rp.Qr},n.createElement("div",{className:t===a.xae.ASSETS?ry.yR:ry.Mf,"data-label":(0,A.t)("fullscreen.pages_panel.assets_tab")},n.createElement("div",null,(0,A.tx)("fullscreen.pages_panel.assets_tab"))))),!e&&n.createElement("div",{className:ew()("ui2_tabs_row--viewOnlySearchRow--lXeEC",{"ui2_tabs_row--hidden--H29bc":r})},n.createElement(y.Y,{onFocus:l})),n.createElement(rd.E,{className:ew()("ui2_tabs_row--toggleButton--3lJw1",{"ui2_tabs_row--viewOnly--crQc4":!e}),onClick:d,htmlAttributes:{onContextMenu:p},recordingKey:eD.Pt(c,"collapsedRow")},n.createElement("span",{className:"ui2_tabs_row--pageTitle--PPrKt ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},i||""),n.createElement(to.B,{className:"ui2_tabs_row--chevron--GSVx7",svg:s})))}var rg=r(476762),rb=r(33692),rE=r(90206),r_=r(455945);let rf=new Map;var rk=r(364616),rT=r(844411);function rv(){let e=(0,f.cT)(),{pagesList:t,pageToNumChangesMap:r,isComparingChanges:s}=function(){let e=(0,f.n0)(),t=(0,k.d4)(e=>!!(0,tr.k)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===a.m1T.COMPARE_CHANGES),r=(0,k.d4)(e=>e.versionHistory.compareId);return n.useMemo(()=>{if(!t||!r)return{pagesList:e,pageToNumChangesMap:rf,isComparingChanges:t};let n=(0,W.ee)(e);return{pagesList:e,pageToNumChangesMap:n,isComparingChanges:t}},[t,r,e])}(),i=(0,rE.g)({pagesList:t}),l=(0,f.GQ)();return t.length?n.createElement(rw,{recordingKey:"pagesPanel",isReadOnly:e,width:l,pagesList:t,isComparingChanges:s,pageToNumChanges:r,onPageContextMenu:i}):null}function rw({width:e,isReadOnly:t,pagesList:r,onPageContextMenu:i,isComparingChanges:l,pageToNumChanges:d,recordingKey:u}){let m=(0,o.GS)(),p=(0,re.M)(),y=(0,tf._j)(),h=(0,c.q5)(),g=(0,k.d4)(e=>t||!h?a.xae.LAYERS:e.leftPanel.activeTab),b=(0,k.d4)(e=>e.versionHistory),E=(0,I.dh)(),_=(0,I.nn)(),A=(0,s.md)(ri.l7),F=(0,rl.U)(),{toggleManageMemoryModal:M,closeManageMemoryModal:K}=(0,P.P)({sidebarWidth:e}),O=(0,S.T)(),{isLayersOpen:H,toggleLayersAction:R}=(0,f.vr)(),{renamingNodeGuid:B,startRenamingNode:W,stopRenamingNode:G}=(0,f.TU)(),U=(0,f._4)(),{height:D,setHeight:j,isOpen:V,setIsOpen:Y}=(0,r_.d)({defaultIsOpen:r.length>1||m}),q=g===a.xae.LAYERS,X=q&&(!!m||V),Q=V&&q?rT.A:rk.A,Z=a.AWq.getChunkChangeCount(),J=(0,k.Pj)(),ee=(0,n.useCallback)(e=>{F.showLayersPanel(),(0,x.ds)("pages_panel_open_toggle",h?.key,J.getState(),{isPagesOpen:e},{forwardToDatadog:!0}),Y(e)},[h,F,Y,J]),et=(0,n.useCallback)(()=>{ee(!0)},[ee]),er=(0,v.F)(V),en=(0,n.useCallback)(()=>{ee(!er.current)},[er,ee]),ea=(0,T.$)(A);return(0,n.useEffect)(()=>{A&&ea&&!t&&et()},[ea,A,t,et]),n.createElement(rn.A,{isFullHeight:!0},m?n.createElement(n.Fragment,null,n.createElement(w.$,null),!t&&n.createElement(rb.I,{recordingKey:u,activeTab:g,onCanvasSearch:U})):n.createElement(n.Fragment,null,n.createElement(rh,{recordingKey:u,showTabs:!t,activeTab:g,pageTabChevron:Q,isComparingChanges:l,currentPageName:_,onCanvasSearch:U,onTogglePages:g===a.xae.ASSETS?et:en,onPageContextMenu:i}),g===a.xae.LAYERS&&n.createElement(w.$,null)),l&&q&&n.createElement(n.Fragment,null,b.compareId&&n.createElement($.ZI,{compareId:b.compareId,versions:b.versions}),Z>0&&n.createElement(ro.y,{withBorder:!0},n.createElement(z,null))),h&&n.createElement(C.QU,{fileKey:h.key,toggleManageMemoryModal:M,closeManageMemoryModal:K}),X&&n.createElement(rs.R,{height:D,isComparingChanges:l,isOpen:V,isReadOnly:t,onCanvasSearch:U,onHeightChange:j,onPageContextMenu:i,onToggle:en,pageToNumChanges:d,pages:r,showHeader:!O}),q&&n.createElement(ra.m,null,y&&H&&n.createElement(L.p,null,n.createElement(N.Ay,null)),m?n.createElement(rg.o,{currentPage:E,isLayersOpen:H,isReadOnly:t,onToggleLayers:R,recordingKey:u,renamingGuid:B,startRenaming:W,stopRenaming:G,versionHistory:b,width:e}):n.createElement(rr.X,{isReadOnly:t,currentPage:E,width:e,renamingGuid:B,startRenaming:W,stopRenaming:G,thumbnailGuid:h?.thumbnailGuid||null,versionHistory:b})),g===a.xae.ASSETS&&n.createElement(n.Fragment,null,p?n.createElement(rt.g,{width:e}):n.createElement(t3,{recordingKey:"componentsSidebar",containerSizingOptions:{containerWidth:e,maxSmallThumbSize:40,maxWideColWidth:300}})))}let rx=n.memo(function(){let e=(0,s.md)((0,m.Xh)(void 0)),t=(0,c.q5)(),r=(0,o.GS)(),k=(0,d.aV)();(0,f.bi)();let T=(0,l.X0)(),v=!!t&&e,w=(0,u.J2)(a.Ez5.uiState().showCanvasSearch);return n.useEffect(()=>{v&&(0,i.YQ)({id:"Found Updates To Publish"})},[v]),n.createElement(_.Q,{ignoreRulers:k},n.createElement(g.s,null),n.createElement(h.$,null,r&&n.createElement(E.n,null),r&&n.createElement(b.d,{shouldUseBottomBorder:!T}),w?n.createElement(p.EA.Provider,{value:!0},n.createElement(y.f,{showFilter:!0})):n.createElement(rv,null)))})},984079:(e,t,r)=>{r.d(t,{K:()=>u});var n=r(848318),a=r(186606),s=r(865114),i=r(324762),l=r(355755),o=r(937629),d=r(880801),c=r(122586);function u(){let e=(0,i.VW)(),t=(0,s.ZC)(e?.guid),r=(0,l.p8)("activeUserAction"),u=(0,o.LC)();n.useEffect(()=>{(e?.guid!==t&&t||![a.QOV.DEFAULT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(r))&&(0,c.KY)({actionToClear:d.JT.FIND_INSPIRATION})},[e,r,t,u])}},197183:(e,t,r)=>{r.d(t,{t:()=>l});var n=r(848318),a=r(301168),s=r(186606),i=r(7148);function l(){let e=(0,i.m0)(),t=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return n.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{s.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===s.m1T.TEXT&&s.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{s.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{s.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{s.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{s.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}}}]);

//# debugId=bc4aeacf-be54-5cf5-ba9f-9e37539f7e9c

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/d6de71b3e3a0e5e1c64f98f59fc550e12919bacd/2601-1db897ff27e9af4e.min.js.map