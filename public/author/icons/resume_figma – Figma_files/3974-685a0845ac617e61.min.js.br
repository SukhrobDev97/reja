"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="39511720-ca02-5d57-af58-a83a363759ae")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3974],{503596:(e,t,l)=>{l.d(t,{kL:()=>a,kg:()=>s,pU:()=>n,uZ:()=>r});let a="embed--container--KRhyf",n="embed--iframe--6z9Fq",r="embed--playIcon--8LC5v",s="embed--inactiveOverlayBackdrop--DDuMq"},846751:(e,t,l)=>{l.d(t,{U:()=>a});let a="flapp_overlay--elementContainer--b1Khv"},708618:(e,t,l)=>{l.d(t,{e:()=>a});function a(e,t,l){""!==l&&(e.delete(t),"starting-point-node-id"===t&&(e.delete("node-id"),e.append("node-id",l)),e.append(t,l))}},185006:(e,t,l)=>{l.d(t,{Z:()=>eO,v:()=>eM});var a=l(186606),n=l(848318),r=l(768618),s=l(614092);function i(e){return function({nodeId:t,isReadOnly:l,invalidateThumbnail:a}){let i=(0,n.useCallback)((e,l)=>{let a=(0,r.UN)().get(t);a&&a.setInteractiveSlideConfigData(e,l)},[t]),o=(0,n.useCallback)(e=>{let l=(0,r.UN)().get(t);l&&l.deleteInteractiveSlideConfigData(e)},[t]),c=(0,n.useCallback)((e,l)=>{let a=(0,r.UN)().get(t);a&&a.setInteractiveSlideParticipantData(e,l)},[t]),m=(0,n.useCallback)(()=>{let e=(0,r.UN)().get(t);e&&e.resetInteractiveSlideParticipantData()},[t]),p=(0,s.Fk)((e,t)=>{let l=e.get(t);return l?l.interactiveSlideConfigData:null},t),u=(0,s.Fk)((e,t)=>{let l=e.get(t);return l?l.interactiveSlideParticipantData:null},t);return p&&u?n.createElement(e,{configData:p,deleteConfigData:o,invalidateThumbnail:a,isPresenter:!1,isReadOnly:l,isViewer:!1,nodeId:t,participantData:u,recordingKey:`flapp.${t}`,resetParticipantData:m,setConfigData:i,setParticipantData:c}):null}}function o(e){return function({viewer:t,nodeId:l}){let a=(0,s.x3)((e,t)=>{let l=e.getPrototypeNode(t);return l?e.nodeInteractiveSlideConfigData(l):null},l),r=(0,s.x3)((e,t)=>{let l=e.getPrototypeNode(t);return l?e.nodeInteractiveSlideParticipantData(l):null},l);if(!a||!r)return null;let i=(e,l,a)=>{t.setInteractiveSlideConfigData(e,l,a)},o=(e,l,a)=>{t.setInteractiveSlideParticipantData(e,l,a)},c=t.isPresenterSession();return n.createElement(e,{configData:a,participantData:r,setConfigData:(e,t)=>i(l,e,t),setParticipantData:(e,t)=>o(l,e,t),recordingKey:`flapp.${l}`,isViewer:!0,isPresenter:c,nodeId:l,viewer:t})}}var c=l(773511),m=l(106445),p=l(225555),u=l(952647),d=l(320953),f=l(536384),g=l.n(f),h=l(781239),E=l(439382),v=l(720522),_=l(297638),b=l(967688),y=l(142896),N=l(161694),w=l(125761),x=l(17753),C=l(900194),I=l(397157);let k="alignment_scale--prompt--D-cNA";var P=l(807151);function S({recordingKey:e,prompt:t,setPrompt:l}){return n.createElement(E.L,{className:g()(k,y.Qx,y.Uu),type:"text",placeholder:(0,b.t)("slides.flapp.alignment.prompt_placeholder"),value:t,onChange:e=>{l(e.target.value)},onPaste:e=>{l(e.clipboardData.getData("text"))},recordingKey:e})}function F({prompt:e}){return n.createElement("p",{className:k},e||(0,b.t)("slides.flapp.alignment.prompt_placeholder"))}function U({configData:e,setConfigData:t,recordingKey:l,participantData:a,promptElement:r,onVoteRequest:s}){var i;let o=(0,w.iZ)(),c=s&&o?(e,t)=>{s({name:o.name,userId:o.id,thumbnailUrl:o.img_url,alignmentXOffsetPercentage:e,alignmentYOffsetPercentage:t,timestamp:Date.now()})}:void 0,[m,p]=(i=o?.id,(0,n.useMemo)(()=>{let e;return a?[Object.values(a).reduce((t,l)=>{try{let a=JSON.parse(l);a.userId===i&&(e=a),t.push(a)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),e]:[[],void 0]},[a,i])),f="true"===e.resultsShown,E=d.nc.user("slides-toggle-alignment-scale-results-shown",()=>{t("resultsShown",(!f).toString())}),v=(0,I.aF)(e);return n.createElement(u.J,{mode:v.preferredTokenTheme},n.createElement("div",{className:g()(_.s.wFull.flex.flexColumn.justifyCenter.itemsCenter.$,"alignment_scale--alignmentScaleThemeWrapper--1VvHW"),"data-transparency-mode":v.transparentMode},n.createElement("div",{className:"alignment_scale--mainContainer--aIN2p"},n.createElement(D,{prompt:r,allVoteData:m,currentUserVoteData:p}),n.createElement(L,{resultsShown:f,alignmentVoteData:m,onScaleClick:c}),n.createElement(T,null)),n.createElement(O,{recordingKey:h.Pt(l,"slides-alignment-scale-reveal-results"),resultsShown:f,onToggle:E})))}function D({prompt:e,allVoteData:t,currentUserVoteData:l}){return n.createElement("div",{className:"alignment_scale--headerContainer--l688h"},n.createElement("div",{className:"alignment_scale--promptContainer--hRH11 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},e),n.createElement(B,{allVoteData:t,currentUserVoteData:l}))}function L({resultsShown:e,alignmentVoteData:t,onScaleClick:l}){let a=(0,n.useRef)(null),r=l?e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;l(a/t.width,n/t.height)}:void 0;return n.createElement("div",{className:"alignment_scale--scaleContainerPseudoBorder--Jj6DE"},n.createElement("div",{className:"alignment_scale--scaleContainerSolidBackground--s4pRF"}),n.createElement(c.E,{className:g()("alignment_scale--scaleContainer--gmwd3",l?_.s.cursorPointer.$:""),ref:a,onClick:r},n.createElement("div",{className:"alignment_scale--scaleLine--uHC-I"}),n.createElement("div",{className:"alignment_scale--scaleMarkerContainer--X5x-j"},n.createElement("div",{className:"alignment_scale--scaleMarker0--QIykm alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker25--3Xe8a alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker50--L4exg alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker75--Urto8 alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker100--AHcJW alignment_scale--_scaleMarker---mTsV"})),e&&a.current?t.map(e=>n.createElement("img",{src:(0,N.p)(e.thumbnailUrl),key:e.userId,alt:e.name,className:"alignment_scale--alignmentScaleVote--zkhC9",style:{left:`${Math.floor(100*e.alignmentXOffsetPercentage)}%`,top:`${Math.floor(100*e.alignmentYOffsetPercentage)}%`,transform:"translate(-15px, -15px)"}})):null))}function T(){return n.createElement("div",{className:"alignment_scale--scaleLabelContainer--HF5-I"},n.createElement("div",{className:"alignment_scale--stronglyDisagreeLabel--1Yzc0 alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,b.tx)("slides.flapp.alignment.strongly_disagree_label")),n.createElement("div",{className:"alignment_scale--neutralLabel--qqm5f alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,b.tx)("slides.flapp.alignment.neutral_label")),n.createElement("div",{className:"alignment_scale--stronglyAgreeLabel--Dhs7h alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,b.tx)("slides.flapp.alignment.strongly_agree_label")))}function B({allVoteData:e,currentUserVoteData:t}){let l,a=e;return t&&(a=[t,...e.filter(e=>e.userId!==t.userId)]),l=0===a.length?(0,b.t)("slides.flapp.results.no_votes_yet"):1===a.length?t?(0,b.t)("slides.flapp.results.single_self_vote"):(0,b.t)("slides.flapp.results.single_other_vote",{person:a[0].name}):t?(0,b.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:a.length-1}):(0,b.t)("slides.flapp.results.multiple_other_votes",{totalVotes:a.length}),n.createElement("div",{className:"alignment_scale--voteDisplayContainer--upm2F text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("p",{className:"alignment_scale--description--kxZH3"},l),n.createElement(V,{allVoteData:a,maxToShow:2}))}function V({allVoteData:e,maxToShow:t}){let l=e.length;e.length>t+1&&(l=t);let a=e.slice(0,l),r=e.slice(l),s=r.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return n.createElement("div",{className:"alignment_scale--voteProfilesContainer--wbH0G"},a.map(e=>n.createElement("img",{className:"alignment_scale--voteProfile--Um0e6",key:e.userId,alt:e.name,src:(0,N.p)(e.thumbnailUrl),"data-tooltip-type":x.Ib.TEXT,"data-tooltip":e.name})),r.length>0?n.createElement("div",{className:"alignment_scale--overflowVote--KIoww text--fontPos11--2LvXf text--_fontBase--QdLsd","data-tooltip-type":x.Ib.SPECIAL,"data-tooltip":C.c,"data-tooltip-overflow-user-data":JSON.stringify(s)},`+${r.length}`):null)}function O({recordingKey:e,resultsShown:t,onToggle:l}){return n.createElement("div",{className:"alignment_scale--resultToggleContainer--euX1O"},n.createElement(v.B,{className:"alignment_scale--resultToggleContainerSvg--PFGWI",svg:P.A}),n.createElement(c.E,{className:"alignment_scale--resultToggle--alry6 text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:l,recordingKey:e},t?n.createElement(m.l,null):n.createElement(p.f,null),n.createElement("p",null,t?(0,b.t)("slides.flapp.results.results_shown"):(0,b.t)("slides.flapp.results.results_hidden"))))}let M={EditorFlapp:i(function(e){let{configData:t,setConfigData:l,recordingKey:a}=e,r=n.createElement(S,{recordingKey:h.Pt(a,"slides-alignment-scale-prompt-input"),prompt:t.prompt,setPrompt:e=>{d.l7.user("slides-update-alignment-scale-prompt",()=>{l("prompt",e)})}});return n.createElement(U,{...e,promptElement:r})}),ViewerFlapp:o(function(e){return n.createElement(U,{...e,promptElement:n.createElement(F,{prompt:e.configData.prompt}),onVoteRequest:t=>{d.l7.user("slides-update-alignment-scale-vote",()=>{e.setParticipantData(t.userId,JSON.stringify(t))})}})})};var $=l(173811),A=l(637640),Q=l(656329),z=l(140357);function K({configData:e}){let t=(0,z.hk)(),l=(0,$.gD)(e);return n.createElement($.wL,{deviceFrame:l},n.createElement($.lu,{isViewer:!0,onClick:()=>{e.url&&t&&A.Ay.redirect(e.url,Q.uG?void 0:"_blank")}}))}let R={EditorFlapp:i($.DR),ViewerFlapp:o($.E$)},W={EditorFlapp:i(K),ViewerFlapp:o(K)};var q=l(230618),H=l(363895);function J({prompt:e,setPrompt:t}){return n.createElement(E.L,{className:g()(y.Qx,y.Uu),type:"text",placeholder:(0,b.t)("slides.flapp.facepile.prompt_placeholder"),value:e,onChange:e=>{t(e.target.value)},onPaste:e=>{t(e.clipboardData.getData("text"))},recordingKey:"facepile-prompt-input"})}function Y({prompt:e}){return n.createElement("p",null,e||(0,b.t)("slides.flapp.facepile.prompt_placeholder"))}function j({isViewer:e,configData:t,participantData:l,promptElement:a,onToggleStampRequest:r}){let s=(0,w.iZ)(),i=function(e,t){if(!e||0===Object.keys(e).length)return{stamps:[],currentUserStamped:!1};let l=!1;return{stamps:Object.values(e).reduce((e,a)=>{try{let n=JSON.parse(a);n.userId===t&&(l=!0),e.push(n)}catch(e){}return e},[]).sort((e,l)=>e.userId===t?-1:l.userId===t?1:e.timestamp-l.timestamp),currentUserStamped:l}}(l,s?.id),o=function(e,t){let{stamps:l,currentUserStamped:a}=e;return 0===l.length?t?(0,b.t)("slides.flapp.facepile.description_click_to_stamp"):(0,b.t)("slides.flapp.results.no_stamps_yet"):1===l.length?a?(0,b.t)("slides.flapp.results.single_self_stamp"):(0,b.t)("slides.flapp.results.single_other_stamp",{person:l[0].name}):a?(0,b.t)("slides.flapp.results.multiple_stamps_including_user",{totalStamps:l.length-1}):(0,b.t)("slides.flapp.results.multiple_other_stamps",{totalStamps:l.length})}(i,e),c=(0,I.aF)(t);return n.createElement(u.J,{mode:c.preferredTokenTheme},n.createElement("div",{className:g()("facepile--container--k1p6f","facepile--facepileThemeWrapper--dG-S8"),"data-transparent-mode":c.transparentMode},n.createElement("div",{className:"facepile--prompt--6Xfxz text--fontPos24--YppUD text--_fontBase--QdLsd"},a),n.createElement(X,{isStampingEnabled:e,stampsWithMetadata:i,maxStampsToShow:3,currentUser:s,onToggleStampRequest:r}),n.createElement("p",{className:"facepile--description--SesIh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},o)))}function X({isStampingEnabled:e,stampsWithMetadata:t,maxStampsToShow:l,currentUser:a,onToggleStampRequest:r}){let{stamps:s,currentUserStamped:i}=t,o=s.length;s.length>l+1&&(o=l);let c=s.slice(0,o),m=s.slice(o),p=e&&a&&!i;return n.createElement("div",{className:_.s.flex.gap12.pt36.pb24.itemsCenter.alignCenter.$},c.map(e=>{let t=r&&a&&e.userId===a.id,l={text:e.name,subtext:t?(0,b.t)("slides.flapp.facepile.tooltip.click_to_remove"):void 0};return n.createElement(Z,{stamp:e,tooltipToShow:l,onClick:()=>{t&&r(a.id,void 0)},key:`${e.userId}-stamp`})}),m.length>0?n.createElement(G,{overflowStamps:m}):null,n.createElement(ee,{previewStamp:p?et(a):void 0,onClick:()=>{p&&r&&r(a.id,et(a))}}))}function Z({stamp:e,tooltipToShow:t,onClick:l}){return n.createElement(c.E,{onClick:l,htmlAttributes:{"data-tooltip-type":x.Ib.TEXT,"data-tooltip":t?.text,"data-tooltip-subtext":t?.subtext,"data-tooltip-offset-y":8}},n.createElement(q.oW,{className:"facepile--facepileStamp---gzFz facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",src:(0,N.p)(e.thumbnailUrl),alt:e.name,draggable:!1}))}function G({overflowStamps:e}){let t=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return n.createElement("div",{className:"facepile--overflowStamp--j3fn3 text--fontPos22--4H4Fc text--_fontBase--QdLsd facepile--_stampBase--eCNDB","data-tooltip-type":x.Ib.SPECIAL,"data-tooltip":C.c,"data-tooltip-overflow-user-data":JSON.stringify(t),"data-tooltip-offset-y":8},n.createElement("p",null,`+${e.length}`))}function ee({previewStamp:e,onClick:t}){return n.createElement(c.E,{className:g()("facepile--emptyStampContainer--dAbYv facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",e?"facepile--displayPreviewOnHover--qPtfX":""),onClick:t},n.createElement(v.B,{className:"facepile--emptyStamp--KiqZH",svg:H.A}),e?n.createElement("div",{className:"facepile--previewStamp--TbFAQ"},n.createElement(Z,{stamp:e})):null)}function et(e){return{name:e.name,userId:e.id,thumbnailUrl:e.img_url,timestamp:Date.now()}}let el={EditorFlapp:i(function(e){let t=n.createElement(J,{prompt:e.configData.prompt,setPrompt:t=>{d.l7.user("slides-update-facepile-question",()=>{e.setConfigData("prompt",t)})}});return n.createElement(j,{...{...e,promptElement:t}})}),ViewerFlapp:o(function(e){return n.createElement(j,{...{...e,promptElement:n.createElement(Y,{prompt:e.configData.prompt}),onToggleStampRequest:(t,l)=>{d.l7.user("slides-add-user-facepile-stamp",()=>{e.setParticipantData(t,JSON.stringify(l))})}}})})};var ea=l(301168),en=l(907727),er=l(990140),es=l(979890),ei=l(314979);let eo="poll--question--F1M7f text--fontPos30--N-YT7 text--_fontBase--QdLsd",ec="poll--optionContainer--ds9OS",em="poll--optionContentText---N25s";function ep(e){let t=[];for(let l=0;l<6;l++){let a=e[`option${l}`];void 0!==a&&t.push(a)}return t}function eu({resultsShown:e,setResultsShown:t}){return n.createElement(es.GG,{className:"poll--toggleResultVisibilityButton--mcWJq text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e),recordingKey:"resultsButton"},e?n.createElement(n.Fragment,null,n.createElement(m.l,null),(0,b.tx)("slides.flapp.results.results_shown")):n.createElement(n.Fragment,null,n.createElement(p.f,null),(0,b.tx)("slides.flapp.results.results_hidden")))}function ed({totalVotes:e,hasUserVote:t,firstVoteByTimestamp:l}){let a;return a=0===e?(0,b.t)("slides.flapp.results.no_votes_yet"):1===e?t?(0,b.t)("slides.flapp.results.single_self_vote"):l?(0,b.t)("slides.flapp.results.single_other_vote",{person:l.name}):(0,b.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}):t?(0,b.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:e-1}):(0,b.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}),n.createElement("p",null,a)}function ef({votes:e,children:t,isWinningVote:l,isUserVote:a,percentage:r,resultsShown:s,recordingKey:i,onClick:o}){let c=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return n.createElement("div",{className:ec},n.createElement(es.GG,{className:g()("poll--optionInner--WmnWP",o?"poll--hoverable--uHwKu":""),recordingKey:i,onClick:o,"data-tooltip-type":x.Ib.SPECIAL,"data-tooltip":c.length>0?C.c:void 0,"data-tooltip-overflow-user-data":JSON.stringify(c),"data-tooltip-offset-y":8},s&&n.createElement("div",{className:g()("poll--optionFill--birzf",l?"poll--winning--ZgYy7":""),style:{width:`${r}%`}}),n.createElement("div",{className:"poll--optionContent--XecHh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t,n.createElement("div",{className:_.s.flex.gap8.itemsCenter.$},a&&n.createElement(en.l,{height:"24px",width:"24px"}),s&&n.createElement("span",null,`${r}%`)))))}function eg({onClick:e,recordingKey:t}){return n.createElement(es.D8,{className:ec,onClick:e,recordingKey:h.Pt(t,"addOption")},n.createElement("div",{className:g()("poll--newOption--H35l3",{[_.s.invisible.$]:!e})},n.createElement(er.e,null)))}let eh="slides-update-poll-question",eE="slides-update-poll-option",ev="slides-update-poll-options";function e_({nodeId:e,preferredTheme:t,transparencyMode:l,configData:a,participantData:s,setConfigData:i,setParticipantData:o,deleteConfigData:c,isViewer:m,recordingKey:p}){let f=(0,ea.wA)(),v=(0,w.iZ)(),_=a.question||"",N=ep(a),x="true"===a.resultsShown,[C,I]=n.useState(!1),k=n.useMemo(()=>[],[]);(0,n.useEffect)(()=>{if(C&&k.length>0){let e=k.slice(-1)[0];e&&e.current&&e.current.focus()}},[N.length,k,C]);let P=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(m)return;let t=P.current,l=new ResizeObserver(t=>{let l=(0,r.UN)().get(e);if(l)for(let e of t)d.l7.system("slides-poll-auto-resize",()=>{let t=getComputedStyle(e.target),a=parseFloat(t.paddingTop),n=a+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),r=e.contentRect.height+n;l&&r>l.size.y&&(l.size={x:l.size.x,y:r})})});return t&&l.observe(t),()=>{t&&l.unobserve(t)}},[e,m]);let S=d.nc.user(eh,e=>{i("question",e.target.value)}),F=d.nc.user(eh,e=>{i("question",e.clipboardData.getData("text"))}),U=e=>`option${e}`,D=d.nc.user(eE,(e,t)=>{i(U(e),t.currentTarget.value)}),L=d.nc.user(eE,(e,t)=>{i(U(e),t.clipboardData.getData("text"))}),T=d.nc.user(ev,(e,t)=>{e===N.length-1&&("Enter"===t.key&&N.length<6?(i(U(e+1),""),I(!0)):N.length>2&&0===N[e].length&&("Backspace"===t.key||"Delete"===t.key)&&(c&&(c(U(e)),t.preventDefault()),I(!0)))}),B=d.nc.user("slides-update-poll-results-visibility",e=>{i("resultsShown",e?"true":"false")}),{groupedVotes:V,totalVotes:O,votePercentages:M,winningVoteIndices:$,userVoteIndex:A,firstVoteByTimestamp:Q}=function(e,t,l){let a;let n=ep(t),r=-1,s=Object.values(l).reduce((t,l)=>{try{let n=JSON.parse(l);n.userId===e&&(r=n.selectedOption),a=a&&a.timestamp>n.timestamp||!a?n:a,t.push(n)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),i=0,o=n.map((e,t)=>{let l=s.filter(e=>e.selectedOption===t);return i=l.length>i?l.length:i,l}),c=s.length,m=n.map((e,t)=>Math.round(100*(o[t].length/c||0))),p=o.reduce((e,t,l)=>t.length===i&&0!==t.length?[...e,l]:e,[]);return{groupedVotes:o,votePercentages:m,totalVotes:c,winningVoteIndices:p,userVoteIndex:r,firstVoteByTimestamp:a}}(v?.id,a,s),z=d.nc.system("slides-update-poll-votes",e=>{if(!v){f(ei.s.error((0,b.t)("slides.flapp.poll.vote_failure")));return}let t={userId:v.id,name:v.name,thumbnailUrl:v.img_url,timestamp:Date.now(),selectedOption:e};o(t.userId,JSON.stringify(t))});return n.createElement(u.J,{mode:t},n.createElement("div",{className:g()("poll--pollThemeWrapper--z0UVm","poll--container--UKRlY"),"data-transparency-mode":l,ref:P},m?n.createElement("div",{className:eo},_):n.createElement(E.L,{type:"text",className:g()(eo,y.Qx,y.Uu),value:_,placeholder:(0,b.t)("slides.flapp.poll.question_placeholder"),onChange:S,onPaste:F,recordingKey:h.Pt(p,"questionInput")}),N.map((e,t)=>{let l=n.createRef();k.push(l);let a=-1!==$.indexOf(t);return m?n.createElement(ef,{votes:V[t],key:t,isWinningVote:a,isUserVote:t===A,percentage:M[t],resultsShown:x,recordingKey:h.Pt(p,`option${t}`),onClick:()=>z(t)},n.createElement("div",{className:em},e)):n.createElement(ef,{votes:V[t],key:t,isWinningVote:a,isUserVote:t===A,percentage:M[t],resultsShown:x},n.createElement(E.L,{className:g()(em,y.Qx,y.Uu),type:"text",value:e,placeholder:(0,b.t)("slides.flapp.poll.option_placeholder"),onChange:e=>D(t,e),onKeyDown:e=>T(t,e),onPaste:e=>L(t,e),ref:l,recordingKey:h.Pt(p,`optionInput${t}`)}))}),n.createElement(eg,{onClick:m||N.length>=6?void 0:d.nc.user(ev,()=>{i(U(N.length),""),I(!0)}),recordingKey:p}),n.createElement("div",{className:"poll--resultContainer--cQQVk text--fontPos20--Bcz97 text--_fontBase--QdLsd"},n.createElement(ed,{totalVotes:O,hasUserVote:A>=0,firstVoteByTimestamp:Q}),n.createElement(eu,{resultsShown:x,setResultsShown:e=>B(e)}))))}function eb({configData:e,participantData:t,setConfigData:l,setParticipantData:a,deleteConfigData:r,isViewer:s,isPresenter:i,recordingKey:o,nodeId:c}){let m=(0,I.aF)(e);return n.createElement(e_,{configData:e,deleteConfigData:r,isPresenter:i,isViewer:s,nodeId:c,participantData:t,preferredTheme:m.preferredTokenTheme,recordingKey:o,setConfigData:l,setParticipantData:a,transparencyMode:m.transparentMode})}let ey={EditorFlapp:i(eb),ViewerFlapp:o(eb)};var eN=l(938982),ew=l(204571),ex=l(655302),eC=l(345964),eI=l(579407),ek=l(439952),eP=l(200141);async function eS(e){if(!e)return;let t=(0,ew.KJ)(e.trim());if(t)try{let l=(await eP.E.getLinkMetadata({text:t.isFromIFrame?e:t.url,useEmbedsAllowList:"true",useLinkPreviewsV2:"true"})).data.meta;if(!l||"embed"!==l.type)return;return{srcUrl:l.srcUrl.replace("&autoplay=1","").replace("&auto_play=1","")+"&enablejsapi=1",url:decodeURIComponent(l.url||""),height:800*(l.height||450)/(l.width||800),width:800,title:decodeURIComponent(l.title||"YouTube"),thumbnailImage:l.thumbnailImage,thumbnailUrl:l.thumbnailUrl}}catch(e){(0,ex.x1)(eN.e.SLIDES,"Failed to get youtube embed",e)}}function eF({configData:e,disablePointerEvents:t,onIframeLoad:l}){return n.createElement("div",{className:_.s.wFull.hFull.$},e.srcUrl&&e.title?n.createElement("iframe",{src:e.srcUrl,className:_.s.wFull.hFull.$,onLoad:e=>l?.(e.target),title:e.title,allowFullScreen:!1,allow:"autoplay"}):null,t?n.createElement("div",{className:_.s.wFull.hFull.absolute.top0.left0.$}):null)}function eU({configData:e}){return e.url&&e.title?n.createElement("a",{className:_.s.wFull.hFull.cursorPointer.relative.$,style:{pointerEvents:"auto"},href:e.url,target:"_blank",rel:"noopener noreferrer",title:e.title},e.thumbnailUrl?n.createElement("img",{src:e.thumbnailUrl,alt:e.title,className:_.s.wFull.hFull.$,style:{objectFit:"cover"}}):null):null}let eD={EditorFlapp:i(function(e){let{configData:t,nodeId:l,setConfigData:a,isReadOnly:s}=e;return((0,n.useEffect)(()=>{s||t.srcUrl||eS(t.url).then(async e=>{if(!e)return;let t=(0,r.UN)().get(l);if(t&&(d.l7.system("initializing-youtube",()=>{(0,eI.r)(()=>{t.resizeWithConstraints(e.width,e.height),t.proportionsConstrained=!0;let l=t.relativeTransform;l.m02=t.relativeTransform.m02-e.width/2,l.m12=t.relativeTransform.m12-e.height/2,t.relativeTransform=l,a("srcUrl",e.srcUrl),a("title",e.title),e.url&&a("url",e.url),e.thumbnailUrl&&a("thumbnailUrl",e.thumbnailUrl)})}),e.thumbnailImage))try{let l=new Uint8Array(e.thumbnailImage.data),a=await (0,ek.UD)(l,"image/png",e.title);d.l7.system("initializing-youtube-thumbnail",()=>{(0,eI.r)(()=>{t.insertImageInFillPaint(a)})})}catch(e){}})},[t.url,t.srcUrl,l,a,s]),t.url&&!t.srcUrl)?n.createElement("div",{className:_.s.absolute.w48.h48.$},n.createElement(eC.kt,{size:"custom",className:_.s.w48.h48.$})):n.createElement(eF,{...e,disablePointerEvents:!0})}),ViewerFlapp:o(function(e){let t=(0,n.useCallback)(t=>{e.viewer&&e.viewer.associateYoutubeWithNode(e.nodeId,t)},[e.viewer,e.nodeId]);return(0,n.useEffect)(()=>()=>{e.viewer&&e.viewer.disassociateYoutubeWithNode(e.nodeId)},[e.viewer,e.nodeId]),n.createElement(eF,{...e,onIframeLoad:t})})},eL={EditorFlapp:i(eU),ViewerFlapp:o(eU)},eT={[a.a9h.EMBED]:R,[a.a9h.POLL]:ey,[a.a9h.FACEPILE]:el,[a.a9h.ALIGNMENT]:M,[a.a9h.YOUTUBE]:eD},eB={[a.a9h.EMBED]:W,[a.a9h.POLL]:ey,[a.a9h.FACEPILE]:el,[a.a9h.ALIGNMENT]:M,[a.a9h.YOUTUBE]:eL},eV={EditorFlapp:()=>null,ViewerFlapp:()=>null};function eO(e){return null===e?eV:eT[e]||eV}function eM(e){return null===e?eV:eB[e]||eV}},340204:(e,t,l)=>{l.d(t,{_:()=>m,s:()=>o});var a=l(848318),n=l(186606),r=l(999667),s=l(355755);let i=(0,l(231159).bt)(e=>e.mirror.appModel.activeUserAction);function o(e){let t=(0,s.KH)(),l=t&&1===Object.keys(t).length&&t[e],a=(0,r.md)(i);return l&&a===n.QOV.DEFAULT}let c=(0,r.eU)(null);function m(e){let[t,l]=(0,r.fp)(c);return{isEmbedActive:t===e,setActiveEmbed:a.useCallback(()=>{l(e)},[e,l])}}},54462:(e,t,l)=>{l.d(t,{o:()=>n});var a=l(933454);function n(e){if(!window.opener){console.error("No parent window found! Did you open this window manually?");return}a.L?.addAction("postMessageToPresenterView",{type:e.type}),window.opener.postMessage(e,"*")}},12559:(e,t,l)=>{l.d(t,{l:()=>n});var a=l(749214);let n=(0,l(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.774 19.963c.32-.03.63.142.747.441.084.215-.028.476-.257.508a9 9 0 1 1 7.648-7.648c-.032.229-.292.34-.507.256a.72.72 0 0 1-.442-.747Q20 12.39 20 12a8 8 0 1 0-7.226 7.963M18 11.883c.007.342-.343.558-.662.433a.55.55 0 0 1-.34-.5 5 5 0 1 0-5.18 5.18c.218.01.418.138.498.342.125.319-.09.669-.433.662A6 6 0 1 1 18 11.882m-7.17 2.88c.224.095.423-.132.334-.359a3 3 0 0 1-.06-.167 2 2 0 0 0-.51-.814 2 2 0 1 1 2.828-2.829c.227.23.507.414.815.51q.084.026.168.06c.226.088.453-.11.358-.335a3 3 0 1 0-3.933 3.934m5.075 6.226a1.5 1.5 0 0 0 1.376-1.058l.624-2.027 2.027-.623a1.5 1.5 0 0 0 .107-2.83l-6-2.357a1.5 1.5 0 0 0-1.945 1.945l2.358 6a1.5 1.5 0 0 0 1.453.95m4.085-5.123a.5.5 0 0 1-.352.46l-2.533.778-.78 2.533a.5.5 0 0 1-.943.036l-2.357-6a.5.5 0 0 1 .648-.648l6 2.357a.5.5 0 0 1 .317.484",clipRule:"evenodd"})})})}}]);

//# debugId=39511720-ca02-5d57-af58-a83a363759ae

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/51c88339e3a667c58fd201542ccdc539a4c74e81/3974-685a0845ac617e61.min.js.map