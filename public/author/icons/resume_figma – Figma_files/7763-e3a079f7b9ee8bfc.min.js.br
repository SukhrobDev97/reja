"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a94bed5e-1aa2-5384-b8fa-93c85fc2715a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7763],{531443:(e,t,n)=>{n.d(t,{$:()=>r,_:()=>l});var r=(e=>(e.FocusedEditingMenu="focused_editing_inline_menu",e.FreeformEditingMenu="freeform_editing_inline_menu",e.FillSubmenu="fill_submenu",e.ImageCropSubmenu="image_crop_submenu",e.StrokeSubmenu="stroke_submenu",e.CornersSubmenu="corners_submenu",e.FontFamilySubmenu="font_family_submenu",e.TextAlignmentSubmenu="text_alignment_submenu",e.EffectsSubmenu="effects_submenu",e.AIActionSubmenu="ai_action_submenu",e.ActionOverflowSubmenu="action_overflow_submenu",e.AdjustImagePanel="adjust_image_panel",e.StrokeColorPickerPanel="stroke_color_picker_panel",e.FillColorPickerPanel="fill_color_picker_panel",e.ImageOverlayColorPickerPanel="image_overlay_color_picker_panel",e.VariantSwapPanel="variant_swap_panel",e))(r||{}),l=(e=>(e.EditContent="edit_content",e.EditText="edit_text",e.RemoveEditingRestrictions="remove_editing_restrictions",e.TemplateTypeSelector="template_type_selector",e.MultiEditText="multi_edit_text",e.SelectMatching="select_matching",e.VariantSwapEntryPoint="variant_swap_entry_point",e.VariantTile="variant_tile",e.DetachInstance="detach_instance",e.FillControlEntryPoint="fill_control_entry_point",e.RotateGradient="rotate_gradient",e.FlipGradient="flip_gradient",e.StrokeControlEntryPoint="stroke_control_entry_point",e.StrokeWeightSlider="stroke_weight_slider",e.StrokeWeightInput="stroke_weight_input",e.StrokeDashPatternSelector="stroke_dash_pattern_selector",e.StrokePaintPicker="stroke_paint_picker",e.CustomColor="custom_color",e.ColorChit="color_chit",e.Gradient="gradient",e.LibraryColorPicker="library_color_picker",e.AdjustImageControl="adjust_image_control",e.AiImageTools="ai_image_tools",e.UploadImage="upload_image",e.ImageCropEntryPoint="image_crop_entry_point",e.ImageCropSlider="image_crop_slider",e.ImageRotate="image_rotate",e.ImageFlipHorizontal="image_flip_horizontal",e.ImageFlipVertical="image_flip_vertical",e.CornersControlEntryPoint="corners_control_entry_point",e.CornersSlider="corners_slider",e.CornersInput="corners_input",e.FontFamilyControlEntryPoint="font_family_control_entry_point",e.FontPicker="font_picker",e.LibraryFontStyle="library_font_style",e.FontStyleSelector="font_style_selector",e.FontSizeInput="font_size_input",e.ToggleBold="toggle_bold",e.ToggleItalic="toggle_italic",e.ToggleUnderline="toggle_underline",e.TextAlignmentControlEntryPoint="text_alignment_control_entry_point",e.TextVerticalAlignmentSelector="text_vertical_alignment_selector",e.TextHorizontalAlignmentSelector="text_horizontal_alignment_selector",e.EffectsEntryPoint="effects_entry_point",e.OpacitySlider="opacity_slider",e.OpacityInput="opacity_input",e.ShadowSlider="shadow_slider",e.ShadowInput="shadow_input",e.BlurSlider="blur_slider",e.BlurInput="blur_input",e.OverlayOpacitySlider="overlay_opacity_slider",e.OverlayOpacityInput="overlay_opacity_input",e.OverlayColorPicker="overlay_color_picker",e.AIToolsEntryPoint="ai_tools_entry_point",e.AIShortenText="ai_shorten_text",e.AIRewriteText="ai_rewrite_text",e.AITranslateText="ai_translate_text",e.AIRemoveBackground="ai_remove_background",e.AIUpscaleImage="ai_upscale_image",e.AIEditImage="ai_edit_image",e.AIMakeImage="ai_make_image",e.ActionOverflowEntryPoint="action_overflow_entry_point",e.FontSpacingAndLineHeightEntryPoint="font_spacing_and_line_height_entry_point",e.FontSpacingInput="font_spacing_input",e.LineHeightInput="line_height_input",e.LayoutAlignmentEntryPoint="layout_alignment_entry_point",e.LayoutAlignmentSelector="layout_alignment_selector",e.UnorderedListStyle="unordered_list_style",e.OrderedListStyle="ordered_list_style",e.RemoveAutolayout="remove_autolayout",e.ToggleLock="toggle_lock",e.AdjustImageProperty="adjust_image_property",e))(l||{})},667550:(e,t,n)=>{n.d(t,{_:()=>x,k:()=>Q});var r=n(848318),l=n(301168),o=n(773511),a=n(88706),i=n(122019),s=n(907727),c=n(186606),m=n(320953),p=n(999667),u=n(536384),d=n.n(u),_=n(996202),E=n(41830),y=n(755534),g=n(847240),T=n(720522),b=n(967688),f=n(661851),S=n(531443),I=n(699746),V=n(856910),P=n(678742),k=n(106904),A=n(424977),F=n(489082),C=n(963307),h=n(17753),w=n(232958),R=n(768360);let N="template_type_dropdown_button--templateTypeScrollContainer--5TuR3",O="template_type_dropdown_button--endSection--mkTZx",M="template_type_dropdown_button--inactiveLabel--Bkt2E raw_components--iconInsideBorderFocusWithin--2g7fO",v="template_type_dropdown_button--scrollIndicatorChevron--IYya7";var D=n(364616),K=n(844411);let L="cooperInlineMenuTemplateTypeControl";function x(){return r.createElement(A.R,null,r.createElement(E.E,{name:S._.TemplateTypeSelector},r.createElement(Q,null)))}function Q({isAssetPanel:e=!1}){let{isPopoverOpen:t,togglePopover:n,closePopover:l}=(0,V.j)(V.p.TEMPLATE_TYPE),i=(0,k.XH)(),s=r.useMemo(()=>c.fZl?.getAllCooperTemplateTypeGroups()||[],[]),m=r.useMemo(()=>({format:e=>{if((0,F.gl)(e))return(0,b.t)("common.mixed");for(let t of s){let n=t.types.find(t=>t.type===e);if(n)return n.name}return(0,b.t)("cooper.inline_menu.template_type.formatter_custom")}}),[s]);return r.createElement(R.A,{positionY:I.j,target:r.createElement("div",{className:"template_type_dropdown_button--templateTypeContainer--gq3Dj","data-testid":"cooper-inline-template-type-control"},r.createElement(o.E,{className:d()("template_type_dropdown_button--templateTypeDropdownButton--8V0iE",e&&"template_type_dropdown_button--assetPanelTemplateTypeDropdownButtonOverride--FC6rS",{"template_type_dropdown_button--active--AgjQV":t}),onClick:n,recordingKey:L},r.createElement("span",{className:"template_type_dropdown_button--templateTypeDropdownDisplayText--sqC20 ellipsis--ellipsis--Tjyfa"},m.format(i)),r.createElement(a.r,null))),renderPopoverContents:()=>r.createElement(U,{templateGroups:s,isAssetPanel:e,onClose:l}),isOpen:t,onClose:l,useDropdownZIndex:!0})}function U({templateGroups:e,isAssetPanel:t,onClose:n}){let l=(0,k.XH)(),[o,a]=r.useState(""),[i,s]=(0,p.fp)(P.Ku),u=(0,_.U)(),E=r.useCallback(e=>{(0,F.hS)(l)&&e!==l&&(u("cooper_template_asset_type_changed",{productType:"buzz",old_template_asset_type:(0,F.hS)(l)?l:null,new_template_asset_type:e}),m.l7.user("Convert Template Type",()=>{c.fZl?.convertSelectedNodesToCooperTemplateType(e),e===c.Z64.CUSTOM?s(!0):n(),c.Ez5.cooperFocusView().isFocusedNodeViewEnabled()&&c.Ez5?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0)}))},[s,l,u,n]);return r.createElement("div",{className:d()(t?"template_type_dropdown_button--assetPanelTemplateTypeDropdownContainerDimensions--WuflJ":"template_type_dropdown_button--inlineToolbarTemplateTypeDropdownContainerDimensions--h9p4o","template_type_dropdown_button--templateTypeDropdownContainer--AVKgm")},r.createElement(B,{searchQuery:o,onChange:a,clearSearch:()=>{a("")}}),o?r.createElement(G,{currentTemplateType:l,templateTypeGroups:e,handleTemplateTypeChange:E,searchQuery:o,isAssetPanel:t}):r.createElement(Z,{currentTemplateType:l,templateTypeGroups:e,handleTemplateTypeChange:E,isAssetPanel:t}))}function G({currentTemplateType:e,templateTypeGroups:t,handleTemplateTypeChange:n,searchQuery:l,isAssetPanel:o}){let a=r.useRef(null),i=r.useRef(null),s=q(e,t,o),{showTopScrollIndicator:c,showBotScrollIndicator:m,handleScroll:p,onScroll:u}=X(i,o),d=RegExp(`${l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}`,"i");return r.createElement(y.P,{ref:i,scrollContainerRef:a,className:N,hideScrollbar:!0,initialScrollTop:s,onScroll:p},t.map(t=>{if("Custom"!==t.groupName)return r.createElement(r.Fragment,{key:t.groupName},t.types.map(t=>{if(t.name.match(d))return r.createElement(z,{onClick:n,key:t.type,selected:t.type===e,metadata:t})}))}),r.createElement("div",{className:O}),r.createElement(Y,{showTopIndicator:c,showBottomIndicator:m,onScroll:u}))}function Z({currentTemplateType:e,templateTypeGroups:t,handleTemplateTypeChange:n,isAssetPanel:l}){let o=r.useRef(null),a=r.useRef(null),{showTopScrollIndicator:i,showBotScrollIndicator:s,handleScroll:m,onScroll:p}=X(a,l),u=q(e,t,l),{hasInstanceSelected:d}=(0,f.Cl)(),_=d||e!==c.Z64.CUSTOM;return r.createElement(y.P,{ref:a,scrollContainerRef:o,className:N,hideScrollbar:!0,initialScrollTop:u,onScroll:m},t.map(t=>"Custom"===t.groupName?t.types.map(l=>r.createElement(r.Fragment,{key:t.groupName},r.createElement(z,{onClick:n,selected:l.type===e,metadata:l,hideDimensions:!0}),!_&&r.createElement(W,null))):r.createElement(r.Fragment,{key:t.groupName},r.createElement(j,null),t.types.map(t=>r.createElement(z,{onClick:n,key:t.type,selected:t.type===e,metadata:t})))),r.createElement("div",{className:O}),r.createElement(Y,{showTopIndicator:i,showBottomIndicator:s,onScroll:p}))}function B({searchQuery:e,onChange:t,clearSearch:n}){let[l,o]=r.useState(!1);return r.createElement("div",{className:"template_type_dropdown_button--templateTypeSearchBarContainer--RMpNj"},r.createElement(g.IW,{className:d()("template_type_dropdown_button--templateTypeSearchBar--Jf2Hk",l&&"template_type_dropdown_button--templateTypeSearchBarBorder--lDsbI"),clearSearch:n,customClearSearchIcon:r.createElement(i.C,{style:{"--color-icon":"var(--color-icon-tertiary)",width:"16px",height:"16px"}}),focusOnMount:!0,onBlur:()=>o(!1),onChange:t,onFocus:()=>o(!0),query:e,withUI3Icon:!0}))}function z({selected:e,hideDimensions:t=!1,metadata:n,onClick:l}){return r.createElement(o.E,{onClick:()=>l(n.type),className:"template_type_dropdown_button--templateTypeRow--gEjpL",key:n.type,recordingKey:`${L}-${n.type}`},r.createElement("div",{className:"template_type_dropdown_button--selectedIconContainer--RVRZF"},e&&r.createElement(s.l,null)),r.createElement("div",{className:"template_type_dropdown_button--metaDataContainer--mUCvG"},r.createElement("div",{className:"template_type_dropdown_button--nameContainer--h9tKd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},n.name),!t&&r.createElement("div",{className:"template_type_dropdown_button--dimensionsContainer--i--YR"},`${n.dimension.x} x ${n.dimension.y}`)))}function j(){return r.createElement("div",{className:"template_type_dropdown_button--rowDividerContainer--rM10t"},r.createElement("div",{className:"template_type_dropdown_button--rowDivider--z0Uq4"}))}function W(){let e=(0,l.wA)(),[t,n]=(0,C.lJ)("width"),[o,a]=(0,C.lJ)("height"),i=r.useCallback(e=>{m.l7.user("Update Template Height",()=>{void 0!==e&&c.fZl?.resizeSelectedNodes(e,!1)})},[]),s=r.useCallback(e=>{m.l7.user("Update Template Width",()=>{void 0!==e&&c.fZl?.resizeSelectedNodes(e,!0)})},[]);return r.createElement("div",{className:"template_type_dropdown_button--dimensionsControlContainer--mlA1c"},r.createElement(w.$j,{bigNudgeAmount:10,"data-tooltip":(0,b.t)("fullscreen.properties_panel.transform_panel.width"),"data-tooltip-type":h.Ib.TEXT,disabled:void 0===t||t===F.oV,dispatch:e,min:25,onValueChange:s,recordingKey:`${L}.width`,smallNudgeAmount:10,value:t},r.createElement("span",{className:`${M} svg`},(0,b.tx)("fullscreen.properties_panel.transform_panel.w"))),r.createElement(w.$j,{bigNudgeAmount:10,"data-tooltip":(0,b.t)("fullscreen.properties_panel.transform_panel.height"),"data-tooltip-type":h.Ib.TEXT,disabled:void 0===o||o===F.oV,dispatch:e,min:25,onValueChange:i,recordingKey:`${L}.height`,smallNudgeAmount:10,value:o},r.createElement("span",{className:`${M} svg`},(0,b.tx)("fullscreen.properties_panel.transform_panel.h"))))}function q(e,t,n){let r=0,l=0,o=0,a=!1;return t.forEach((t,n)=>{0!==n&&!a&&r++,t.types.forEach(t=>{!a&&(l++,t.type===e&&(a=!0),t.name.length>23&&o++)})}),Math.max(16*r+24*l+16*o-(n?439:279)/2,0)}function Y({showTopIndicator:e,showBottomIndicator:t,onScroll:n}){let l=r.useRef(null),o=r.useCallback(e=>t=>{l.current&&clearInterval(l.current),l.current=setInterval(()=>{n(e)},25)},[l,n]),a=r.useCallback(()=>{l.current&&clearInterval(l.current)},[l]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"template_type_dropdown_button--topScrollIndicator--O4mwd template_type_dropdown_button--scrollIndicator--4UUzx",style:e?{}:{display:"none"},onMouseEnter:o(-8),onMouseLeave:a},r.createElement(T.B,{className:v,svg:K.A})),r.createElement("div",{className:"template_type_dropdown_button--bottomScrollIndicator--74O-D template_type_dropdown_button--scrollIndicator--4UUzx",style:t?{}:{display:"none"},onMouseEnter:o(8),onMouseLeave:a},r.createElement(T.B,{className:v,svg:D.A})))}function X(e,t){let[n,l]=r.useState(!1),[o,a]=r.useState(!1),i=r.useCallback(n=>{n>0?l(!0):l(!1);let r=e.current?.getScrollHeight(),o=t?439:279;r&&(n+o<r?a(!0):a(!1))},[l,a,e,t]),s=r.useCallback(n=>{if(e.current){let r=e.current.getScrollTop(),l=e.current.getScrollHeight();if(n>0){let o=Math.min(r+n,l-(t?439:279));e.current.scrollTo(o)}else{let t=Math.max(0,r+n);e.current.scrollTo(t)}}},[e,t]);return r.useEffect(()=>{if(e.current){let n=e.current.getScrollTop(),r=e.current.getScrollHeight(),o=t?439:279;n>0?l(!0):l(!1),r&&(n+o<r?a(!0):a(!1))}},[l,a,e,t]),{showTopScrollIndicator:n,showBotScrollIndicator:o,handleScroll:i,onScroll:s}}},699746:(e,t,n)=>{n.d(t,{j:()=>l});var r=n(747174);let l=(e,t)=>(0,r.DH)(e,t,12)},856910:(e,t,n)=>{n.d(t,{j:()=>i,p:()=>a});var r=n(848318),l=n(999667);let o=(0,n(4881).Wh)(()=>(0,l.eU)(null));var a=(e=>(e.CORNERS="corners",e.AI_ACTION_OVERFLOW="ai_action_overflow",e.MORE_ACTION_OVERFLOW="more_action_overflow",e.EFFECTS="effects",e.FILL="fill",e.STROKE="stroke",e.FONT_FAMILY="font_family",e.FONT_SPACING="font_spacing",e.IMAGE_CROP="image_crop",e.LAYOUT_ALIGNMENT="layout_alignment",e.TEMPLATE_TYPE="template_type",e.TEXT_ALIGNMENT="text_alignment",e))(a||{});function i(e){let[t,n]=(0,l.fp)(o);return{isPopoverOpen:t===e,togglePopover:r.useCallback(()=>{n(t===e?null:e)},[t,e,n]),closePopover:r.useCallback(()=>{n(t=>t===e?null:t)},[e,n])}}},993904:(e,t,n)=>{n.d(t,{m:()=>_});var r=n(848318),l=n(301168),o=n(186606);n(629829);var a=n(156137),i=n(967688),s=n(661851),c=n(667550),m=n(489082),p=n(614892),u=n(755101),d=n(494604);function _(){let e=(0,l.d4)(e=>{if((0,m.gl)(e.mirror.selectionProperties.cooperTemplateData))return m.oV;if(!e.mirror.selectionProperties.cooperTemplateData)return o.Z64.CUSTOM;let t=e.mirror.selectionProperties.cooperTemplateData?.type||"CUSTOM";return o.Z64[t]}),{hasInstanceSelected:t}=(0,s.Cl)(),n=t||e!==o.Z64.CUSTOM;return r.createElement(r.Fragment,null,r.createElement(a.k,{name:"cooper_asset_size_panel"},r.createElement(p.Zk,null,r.createElement(d.Wv,{titleTx:(0,i.tx)("cooper.properties_panel.asset_size.title")}),r.createElement("div",{className:"xh8yej3 xnm25rq xyfqnmn x9f619"},r.createElement(c.k,{isAssetPanel:!0})))),r.createElement(u.Vy,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:!0,onlyStacksAndGridsSelected:!1,hideToggleButton:!0,disabled:n}))}},479082:(e,t,n)=>{n.d(t,{V:()=>c,z:()=>m});var r=n(562027),l=n(652021),o=n(626912),a=n(660580),i=n(88009),s=n(208624);let c=a.M4.Query({fetch:async e=>(await s.$W.getResources(e)).data.meta.results});function m(e){let t=new Set,n=e.filter(e=>(0,l.XW)(e)&&(0,l.LE)(e)).map(e=>e.content.component_v2._component_v2_record);n.forEach(e=>{t.add((0,r.l)(e.library_key))});let a=(0,o.bj)(Array.from(t)),s=a.data,c=new Map;return s.forEach(e=>{(0,i.ZA)(e)&&c.set((0,r.l)(e.library_key),e)}),{isLoading:"loading"===a.status,libraryKeyToPublishedLibrary:c,components:n}}},106904:(e,t,n)=>{n.d(t,{Gu:()=>U,Ij:()=>ec,M1:()=>H,Nd:()=>Y,TE:()=>G,Th:()=>Q,VU:()=>B,XH:()=>$,_M:()=>X,a2:()=>er,aZ:()=>W,fp:()=>q,g5:()=>j,gF:()=>en,jL:()=>eo,jv:()=>J,o6:()=>ea,pI:()=>z,pK:()=>x,v3:()=>Z,zA:()=>el});var r=n(848318),l=n(301168),o=n(871043),a=n(186606),i=n(320953),s=n(269466),c=n(553547),m=n(562027),p=n(768618),u=n(999667),d=n(870567),_=n(813321),E=n(329228),y=n(227276),g=n(66699),T=n(967688),b=n(506752),f=n(238445),S=n(513672),I=n(678742),V=n(609081),P=n(932685),k=n(425835),A=n(452586);n(920008);var F=n(303397),C=n(489082),h=n(355755),w=n(730143),R=n(626912),N=n(318147),O=n(55116),M=n(806349),v=n(554326),D=n(138528),K=n(479082);function L(e,t,n){let r=e.get(t);r?r.push(n):e.set(t,[n])}function x(){return 0===(0,P.Wn)().length}function Q(){let e=(0,h.eY)(),t=(0,P.gI)();if(0===t.length)return null;let n=t[0];if(n){let t=e.get(n);if(t){let n=t.symbolId;if(n)return e.get(n)?.sourceLibraryKey}}return null}var U=(e=>(e.NEW_FILE_MODAL="NEW_FILE_MODAL",e.LEFT_RAIL="LEFT_RAIL",e))(U||{});let G=r.createContext(null);function Z(){let e=r.useContext(G);if(!e)throw Error("useCooperTemplateViewType must be used within a CooperTemplateViewTypeContext");return e}function B(){return"LEFT_RAIL"===Z()}function z(){let[e,t]=(0,u.fp)(I.ce),n=(0,u.Xr)(I.EC),l=(0,u.Xr)(I.xB),o=(0,u.Xr)(I.Fs),a=e.trim(),[i]=(0,_.A)(a,200),s=Z(),c=(0,k.Gi)(),{teamTemplates:m,requestLoadMore:p,status:d}=(0,k.qY)(i,N._Y.COOPER,"NEW_FILE_MODAL"===s?16:10),y=(0,D.rs)("useCooperTemplatesSearch"),g=(0,D.EV)(y).unwrapOr(!1),T=(0,A.j)(),S=c?.type==="team"&&g,V=c?.type==="org"?c.entity.id:void 0,P=S?c.entity.id:void 0,[{data:F,status:C}]=(0,E.IT)((0,K.V)({query:i,sort_by:b.e.Search.POPULAR,resource_type:[f.vt.COOPER_TEMPLATE_ASSET],org_id:V,team_id:P,include_content_for_cooper:!0}),{enabled:T&&!!(V||P)}),[{data:h,status:w}]=(0,E.IT)((0,K.V)({query:i,sort_by:b.e.Search.POPULAR,resource_type:[f.vt.COOPER_TEMPLATE_ASSET],include_content_for_cooper:!0,include_category_slug:!0,include_tags:!0}));return r.useEffect(()=>{a!==i?(n(!0),l(!0),o(!0)):(n("loading"===d),l("loading"===C),o("loading"===w))},[a,i,C,w,d,n,l,o]),{searchQuery:e,trimmedSearchQuery:a,setSearchQuery:t,templateResults:m,internalAssetResults:"loaded"===C?F:[],communityAssetResults:"loaded"===w?h:[],requestLoadMore:p}}function j(){let e=(0,u.Xr)(I.Tw);return r.useCallback(()=>{i.l7.user("Create blank template",()=>{let t=a.Z64.CUSTOM,n=a.fZl.getCooperTemplateTypeSize(t),r=a.IPu.createBlankChildAtCoord(0,0,n,"start_from_scratch",!0,t);r&&(F.Y5.triggerAction("enter-focus-view"),a.glU.panToNode(r,!1)),e(!1)})},[e])}function W(){let e=(0,u.Xr)(I.Tw),t=(0,w.tS)();return(0,r.useCallback)(()=>{t&&(e(!1),a.Ez5?.cooperFocusView().exitFocusedNodeView(),a.Ez5?.cooperFocusView().zoomToGrid(0))},[e,t])}function q({getGridCoord:e,detatchInstances:t=!1}){return(n,r,l)=>{if(0===n.length)return;if(t){let e=i.l7.user("cooper-detach-instances",()=>a.glU?.detachInstances(n));if(!e||0===e.length)return;n=e}let s=n.map(e=>(0,p.UN)().get(e)).filter(o.Vq),c=n[0],m=a.IPu.getNodeToReplace();if(m)a.Ez5.canvasGrid().replaceChildInGrid(c,m);else{let{row:t,col:n}=e(!l&&r?r:{x:-1/0,y:-1/0});a.Ez5.canvasGrid().insertChildAtCoord(c,t,n,"cooper-add-template-panel")}let u=(0,p.UN)().get(c);u&&a.Egt.replaceSelection([u.guid],!0),1===s.length&&s[0]?(s[0].isInstance&&(0,g.YQ)({id:S.qA}),a.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()?a.Ez5?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0):setTimeout(()=>{a.Ez5?.cooperFocusView().panToSelectedNodeIfOutsideViewport(.6)},0)):console.warn("Expected exactly one node to be inserted, but found",s.length)}}function Y(e){let[t,n]=(0,u.fp)(I.L1),l=t[e]??0;return{scrollPosition:l,scrollRef:(0,r.useRef)(null),onScroll:(0,r.useCallback)((t,r)=>{n(e,t)},[n,e]),resetScrollTop:(0,r.useCallback)(e=>{for(let t in I.mF){let r=I.mF[t];e.includes(r)||n(r,0)}},[n])}}function X(e){let t=O.iQA.Query({libraryKey:e}),[n]=(0,E.IT)(t,{enabled:!0});return(0,r.useMemo)(()=>{if("loading"===n.status)return{status:"loading",data:{templates:[]}};let t=(0,d.oA)(n.data?.libraryKeyToFile?.file);if(!t||!e)return{status:"loaded",data:{templates:[]}};let{groupingMap:r,containingFrameMap:l}=function(e){let t=new Map,n=new Map;return e.forEach(e=>{let n=e.containing_frame?.containingStateGroup?.nodeId;n&&L(t,n,e)}),e.forEach(e=>{if(e.containing_frame?.containingStateGroup?.nodeId)return;let r=e.containing_frame?.nodeId||e.containing_frame?.pageId,l=e.containing_frame?.name||e.containing_frame?.pageName,o=e.containing_frame?.sortPosition??null;r&&l&&(L(t,r,e),n.set(r,{name:l,node_id:r,sort_position:o}))}),{groupingMap:t,containingFrameMap:n}}(t.libraryHierarchyPaths.flatMap(e=>e.components).map(t=>(0,M.Qp)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}})).sort(V.go));return{status:"loaded",data:{templates:[...[...l.entries()].map(([e,t])=>{let n=r.get(e)||[];return{name:t.name,node_id:t.node_id,sort_position:t.sort_position,components:n,thumbnail_url:n[0]?.thumbnail_url}})],template_name:t.template?.name,publisher_name:t.template?.publishedByUserNullable?.name,description:t.template?.description}}},[n.data,n.status,e])}function $(){let e=(0,r.useMemo)(()=>e=>{let t=e.mirror.selectionProperties.cooperTemplateData;if((0,C.gl)(t))return C.oV;if(!t)return a.Z64.CUSTOM;let n=t.type||"CUSTOM";return a.Z64[n]},[]);return(0,l.d4)(e)}function H(){let e=$(),t=ei();return r.useMemo(()=>{if((0,C.gl)(e)||!t)return null;for(let t of a.fZl?.getAllExceptCustomTemplateGroups()||[]){let n=t.types.find(t=>t.type===e);if(n)return n.name}return null},[e,t])}function J(e){return r.useMemo(()=>{if(!e)return null;for(let t of a.fZl?.getAllExceptCustomTemplateGroups()||[]){let n=t.types.find(t=>t.type===e);if(n)return n.name}return null},[e])}function ee(){let{getDynamicConfig:e}=(0,y.Fj)("cooper_asset_type_to_category_and_tag_map");return e().get("asset_type_map",{})}function et(e,t){let n={category_slug:void 0,tags_text:void 0,tags_slug:void 0};if(!e||(0,C.gl)(e))return n;try{return t[a.Z64[e]]||n}catch(e){return console.error("Error getting asset type fields:",e),n}}function en(e){let t=ee();return r.useMemo(()=>et(e,t),[e,t])}function er(){let e=$(),t=ei(),n=ee();return r.useMemo(()=>et(t?e:null,n),[e,n,t])}function el(e){let t=(0,R.bj)([(0,m.l)(e)]),n=t.data;return{libraries:n,librariesIsLoading:"loading"===t.status,numComponents:n&&n[0]&&"num_components"in n[0]?n[0].num_components:0}}function eo(){let e=(0,v.ut)(a.Ez5?.cooperFocusView().focusedNodeId,"");return r.useCallback(()=>{i.l7.user("Duplicate as blank cooper asset",()=>{let t=null,{row:n,col:r}=a.Ez5.getInsertGridCoord({x:-1/0,y:-1/0});t=(0,c.fn)((0,c.sH)(e))?a.IPu?.duplicateAsBlankCooperAsset(e,n,r,"duplicate_as_blank_cooper_asset"):a.IPu?.createBlankChildAtCoord(n,r,new s.M(1080,1080),"duplicate_as_blank_cooper_asset",!0,a.Z64.INSTA_POST_SQUARE)??null,a.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()&&t&&a.Ez5?.cooperFocusView().focusNodeInFocusedNodeView(t,!0)})},[e])}function ea(e){let[t,n]=r.useState(!1);return r.useEffect(()=>{let t=()=>{e.current&&n(e.current.scrollWidth>e.current.clientWidth||e.current.scrollHeight>e.current.clientHeight)},r=requestAnimationFrame(t),l=new ResizeObserver(t);return e.current&&l.observe(e.current),()=>{cancelAnimationFrame(r),l.disconnect()}},[e]),t}function ei(){return 1===(0,l.d4)(e=>e.mirror.selectionProperties.numSelected||0)}let es=()=>({[a.Z64.BANNER_STANDARD]:(0,T.t)("cooper.templates.banner_standard_pretty"),[a.Z64.BANNER_ULTRAWIDE]:(0,T.t)("cooper.templates.banner_ultrawide_pretty"),[a.Z64.BANNER_WIDE]:(0,T.t)("cooper.templates.banner_wide_pretty"),[a.Z64.CARD_HORIZONTAL]:(0,T.t)("cooper.templates.card_horizontal_pretty"),[a.Z64.CARD_VERTICAL]:(0,T.t)("cooper.templates.card_vertical_pretty"),[a.Z64.FACEBOOK_AD_PORTRAIT]:(0,T.t)("cooper.templates.facebook_ad_portrait_pretty"),[a.Z64.FACEBOOK_AD_SQUARE]:(0,T.t)("cooper.templates.facebook_ad_square_pretty"),[a.Z64.INSTA_POST_PORTRAIT]:(0,T.t)("cooper.templates.instagram_post_portrait_pretty"),[a.Z64.INSTA_POST_SQUARE]:(0,T.t)("cooper.templates.instagram_post_square_pretty"),[a.Z64.LINKEDIN_AD_LANDSCAPE]:(0,T.t)("cooper.templates.linked_in_ad_landscape_pretty"),[a.Z64.LINKEDIN_AD_SQUARE]:(0,T.t)("cooper.templates.linked_in_ad_square_pretty"),[a.Z64.LINKEDIN_AD_VERTICAL]:(0,T.t)("cooper.templates.linked_in_ad_vertical_pretty"),[a.Z64.LINKEDIN_POST_LANDSCAPE]:(0,T.t)("cooper.templates.linked_in_post_landscape_pretty"),[a.Z64.LINKEDIN_POST_PORTRAIT]:(0,T.t)("cooper.templates.linked_in_post_portrait_pretty"),[a.Z64.LINKEDIN_POST_SQUARE]:(0,T.t)("cooper.templates.linked_in_post_square_pretty"),[a.Z64.NAME_TAG_LANDSCAPE]:(0,T.t)("cooper.templates.name_tag_landscape_pretty"),[a.Z64.NAME_TAG_PORTRAIT]:(0,T.t)("cooper.templates.name_tag_portrait_pretty"),[a.Z64.PRINT_US_LETTER]:(0,T.t)("cooper.templates.print_us_letter_pretty")});function ec(e,{usePrettyName:t}){let n=(0,r.useMemo)(es,[]),l=(0,r.useMemo)(()=>(a.fZl?.getAllExceptCustomTemplateGroups()||[]).flatMap(e=>e.types),[]),o=ee(),i=(0,r.useCallback)(e=>e?t?n[e.type]??e.name:e.name:null,[n,t]);return(0,r.useMemo)(()=>{let t=new Map;for(let n of e){if(!n||!n.component)continue;let{component:e,categorySlug:r,tags:s}=n,c=e.id;if(!c)continue;let m=null,p={width:e.min_node_width,height:e.min_node_height};if(p.width&&p.height){let e=l.filter(e=>e.dimension.x===p.width&&e.dimension.y===p.height);if(1===e.length)m=i(e[0])??null;else if(e.length>1){let t=null;if(r)for(let n of e){let e=a.Z64[n.type];if(!e)continue;let l=o[e];if(l&&l.category_slug===r){let e=!s||0===Object.keys(s).length;if(!e&&s){let t=Object.keys(s)[0];if(t){let n=s[t];n&&l.tags_slug?.includes(n)&&(e=!0)}}if(e){t=i(n);break}}}m=t??i(e[0])??null}}t.set(c,m)}return t},[e,l,o,i])}},609081:(e,t,n)=>{n.d(t,{AO:()=>p,Kq:()=>u,YS:()=>c,go:()=>_,r5:()=>d}),n(848318);var r=n(871043),l=n(186606),o=n(320953);n(999667);var a=n(757685),i=n(652021);n(932685);var s=n(616178);n(579407),n(678742);let c=3,m=[l.Z64.FACEBOOK_AD_PORTRAIT,l.Z64.INSTA_POST_PORTRAIT,l.Z64.LINKEDIN_POST_PORTRAIT,l.Z64.LINKEDIN_POST_LANDSCAPE,l.Z64.LINKEDIN_AD_SQUARE,l.Z64.LINKEDIN_AD_VERTICAL,l.Z64.GOOGLE_MOBILE_BANNER_AD,l.Z64.GOOGLE_SKYSCRAPER_AD,l.Z64.PRINT_US_LETTER,l.Z64.POSTER,l.Z64.BANNER_STANDARD,l.Z64.BANNER_WIDE,l.Z64.BANNER_ULTRAWIDE,l.Z64.NAME_TAG_PORTRAIT,l.Z64.NAME_TAG_LANDSCAPE,l.Z64.INSTA_REEL_COVER,l.Z64.ZOOM_BACKGROUND];function p({dimensions:e,assets:t}){if(!t||0===t.length)return t;let{width:n,height:r}=e;return t.filter(e=>{if(!(0,i.XW)(e))return!1;let t=u(e);return!!t&&t.width===n&&t.height===r})}function u(e){if(!(0,i.XW)(e))return;let t=e.content.component_v2?.min_node_width,n=e.content.component_v2?.min_node_height;return t&&n?{width:t,height:n}:void 0}function d({templateType:e,closeTemplatePicker:t,shouldInsertFrame:n,shouldEnterGridView:r,setDimensionsSubmenuOpen:a,setActiveTab:i,setCooperTemplateShouldUseAssetType:c}){o.l7.user("Create blank template",()=>{let o=l.fZl.getCooperTemplateTypeSize(e),{row:p,col:u}=l.Ez5.getInsertGridCoord({x:-1/0,y:-1/0}),d=l.IPu.createBlankChildAtCoord(p,u,o,"start_from_scratch",!n,e);d&&(r?(l.Ez5?.cooperFocusView().exitFocusedNodeView(),l.glU.panToNode(d,!1),l.Egt.replaceSelection([d],!1)):l.Ez5.cooperFocusView().isFocusedNodeViewEnabled()?l.Ez5?.cooperFocusView().focusNodeInFocusedNodeView(d,!0):(setTimeout(()=>{l.Ez5?.cooperFocusView().panToNodeIfOutsideViewport(d,.6)},0),l.Egt.replaceSelection([d],!1))),e===l.Z64.CUSTOM&&a(!0),e!==l.Z64.CUSTOM&&i&&c&&(i(s.x.TEMPLATES),m.includes(e)||c(!0)),t()})}function _(e,t){return(0,r.Vq)(e.sort_position)&&(0,r.Vq)(t.sort_position)?-(0,a.Ez)(e.sort_position,t.sort_position):e.name.localeCompare(t.name)}},897763:(e,t,n)=>{n.d(t,{Y:()=>eD});var r=n(848318),l=n(999667),o=n(913026),a=n(324150),i=n(215148),s=n(301168),c=n(328813),m=n(186606),p=n(655302),u=n(540698),d=n(696786),_=n(959750),E=n(125761),y=n(554326),g=n(394882),T=n(257009),b=n(587995),f=n(231563),S=n(575055),I=n(580494),V=n(489082),P=n(426299),k=n(963307),A=n(259964),F=n(197696),C=n(673416),h=n(919645),w=n(96319),R=n(247852),N=n(846254),O=n(193867),M=n(156137),v=n(967688),D=n(614892),K=n(914893),L=n(176442);function x(e){let t=(0,K.t)();return e.readOnly?r.createElement(L.lc,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:r.createElement(D.Zk,null,r.createElement(D.fI,null,r.createElement(D.xw,{extended:!0},(0,v.tx)("fullscreen.properties_panel.constraints_panel.constraints"))),r.createElement(L.lc,{...e}))}function Q(e){return r.createElement(M.k,{name:"constraints_panel"},r.createElement(x,{...e}))}var U=n(885348),G=n(24508),Z=n(367292),B=n(900789),z=n(968044),j=n(952540),W=n(424554),q=n(609147),Y=n(450436),X=n(744595),$=n(755101),H=n(109805),J=n(730871),ee=n(815934);function et({allSavedPlugins:e,colorFormat:t,dropdownShown:n,library:o,localPlugins:c,modalShown:p,openFile:u,orgEntity:d,pickerInStyleCreationShown:_,pickerShown:E,publishedPlugins:y,saveAsState:T,sceneGraphSelection:b,scrollContainer:M,shownPanels:v,stylePickerListLayout:D,stylePickerShown:K}){let L=(0,s.wA)(),x=(0,l.md)(a.b),et=(0,X.qh)(),{numSelected:en,stateGroupSelectionInfo:er}=(0,k.fC)("numSelected","stateGroupSelectionInfo"),el=(0,f.So)(v,!1),{maskType:eo,exportSettings:ea}=(0,k.zj)("maskType","exportSettings"),ei=(0,G.hD)(),es=(0,f.SQ)(),ec=(0,k.tN)("areOnlyResponsiveSetsSelected"),{pluginRelaunchData:em,numSelected:ep}=(0,k.DQ)("pluginRelaunchData","numSelected"),eu=(0,f.SJ)(),ed=(0,s.d4)(e=>e.mirror.appModel);return r.createElement(S.i,null,0===Object.keys(b).length&&r.createElement(R.Mw,{panelName:R.ON.DESIGN}),(0,f.d6)(v)&&r.createElement(w.AV,{recordingKey:"alignPanel"}),r.createElement(g.VF,{isVisible:v[m.ibQ.TRANSFORM_ITEM]},()=>r.createElement(H.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:x,openFileKey:u?.key||null,canEditConstraints:(0,f.GG)(v),onlyShowXYInputsRow:x===i.GR.DEFAULT_SIMPLIFIED||((ec&&(0,V.hS)(ec))??!1)})),r.createElement(g.VF,{isVisible:es},()=>r.createElement(J.x,{key:"vectorOperation",recordingKey:"vectorOperationPanel",numSelected:en})),r.createElement(i.F$,{isVisible:v[m.ibQ.SCALE_ITEM]}),r.createElement(U.Q,{selection:b,shownPanels:v,scaleShouldHideOtherPanels:(0,f.NR)(v)}),r.createElement(g.VF,{isVisible:v[m.ibQ.COMPONENT_ITEM]},()=>r.createElement(O.c,{key:"component",recordingKey:"componentPanel"})),r.createElement(g.VF,{isVisible:(0,f.tV)(v,er)},()=>r.createElement(C.BS,{key:"componentProperties",recordingKey:"propsPanel"})),r.createElement(g.VF,{isVisible:(0,f.M0)(v)},()=>r.createElement(Z._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(g.VF,{isVisible:v[m.ibQ.VECTOR_ITEM]},()=>r.createElement(H.VR,{key:"vector-transform",recordingKey:"vectorTransformPanel",isUI3:!1,useContextualSelectionProperties:!0,dispatch:L,dropdownShown:n})),r.createElement(g.VF,{isVisible:el},()=>r.createElement($.Vy,{key:"stack",onlyShowResizingRow:!1,onlyStacksAndGridsSelected:!!v[m.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),r.createElement(g.VF,{isVisible:(0,f.GG)(v)},()=>r.createElement(Q,{key:"constraints",openFileKey:u?.key||null,dropdownShown:n,recordingKey:"constraintsPanel"})),r.createElement(g.VF,{isVisible:v[m.ibQ.MASK_ITEM]},()=>r.createElement(j.B,{key:"mask",maskType:eo,dispatch:L,dropdownShown:n,recordingKey:"maskPanel"})),r.createElement(g.VF,{isVisible:v[m.ibQ.GRIDS_ITEM]},()=>r.createElement(i.tC,{key:"grids"})),r.createElement(g.VF,{isVisible:v[m.ibQ.LAYER_ITEM]},()=>r.createElement(z.s,{key:"layer",recordingKey:"layerPanel"})),r.createElement(g.VF,{isVisible:v[m.ibQ.TYPE_ITEM]},()=>r.createElement(i.gc,{key:"type"})),r.createElement(g.VF,{isVisible:v[m.ibQ.CANVAS_ITEM]},()=>r.createElement(N.v,{key:"canvas-background",colorFormat:t,defaultColor:P.rC,dispatch:L,dropdownShown:n,hasExports:!!ea&&(0,V._W)(ea,[]).length>0,library:o,modalShown:p,openFile:u,pickerShown:E,recordingKey:"canvasBackgroundPanel",sceneGraphSelection:b})),r.createElement(g.VF,{isVisible:v[m.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(q.C,{key:"remove-group-fill-stroke"})),r.createElement(g.VF,{isVisible:v[m.ibQ.FILL_ITEM]},()=>r.createElement(i.B8,{key:"fill",variableScopes:et})),r.createElement(g.VF,{isVisible:v[m.ibQ.STROKE_ITEM]},()=>r.createElement(W.$p,{key:"stroke",colorFormat:t,defaultColor:P.Em,dispatch:L,dropdownShown:n,isPanelBodyCollapsedAtom:null,library:o,modalShown:p,openFile:u,pickerInStyleCreationShown:_,pickerShown:E,recordingKey:"strokePanel",sceneGraphSelection:b,stylePickerListLayout:D,stylePickerShown:K})),r.createElement(g.VF,{isVisible:eu},()=>r.createElement(W.UA,{key:"selection-paints",colorFormat:t,defaultColor:P.rC,dispatch:L,dropdownShown:n,isUI3:!1,library:o,openFile:u,pickerShown:E,recordingKey:"selectionPaintsPanel",sceneGraphSelection:b,stylePickerListLayout:D})),r.createElement(g.VF,{isVisible:v[m.ibQ.EFFECTS_ITEM]},()=>r.createElement(i.w5,{key:"effects"})),r.createElement(g.VF,{isVisible:(0,f.ji)(v,ed,b)},()=>r.createElement(ee.B,{key:"local-variables"})),r.createElement(g.VF,{isVisible:(0,f.ww)(v,b)},()=>r.createElement(h.Q,{key:"local-styles",recordingKey:"local-styles",scrollContainer:M})),r.createElement(g.VF,{isVisible:(0,f.P1)(v,u)},()=>r.createElement(G.LI,{key:"export",currentPage:(0,F.Nf)(ed),currentSelectedProperty:ed.currentSelectedProperty,dispatch:L,dropdownShown:n,exportSettings:ea,isSelectionRenamable:G.LI.isSelectionRenamable(Object.keys(b)),numSelected:en,openFile:u,panelWidth:f.iP,pickerShown:E,recordingKey:"exportsPanel",saveAsState:T,sceneGraphSelection:b,singleNodeName:ei})),r.createElement(g.VF,{isVisible:!(0,f.NR)(v)},()=>r.createElement(Y.Q,{key:"plugin",allSavedPlugins:e.plugins,dispatch:L,editorType:u?.editorType?(0,A.wN)(u.editorType):null,localPlugins:c,numSelected:ep??0,openFileKey:u?.key||null,orgEntity:d,pluginRelaunchData:em,publishedPlugins:y,recordingKey:"pluginPanel"})),(0,I.k)().jsx_debugging&&r.createElement(B.A,{recordingKey:"jsxDebugPanel"}))}var en=n(480960);let er=n(993904).m;var el=n(661851),eo=n(186112),ea=n(355755),ei=n(200300),es=n(280848),ec=n(658752),em=n(957872),ep=n(34542),eu=n(517776),ed=n(263336),e_=n(391301),eE=n(556049),ey=n(136169),eg=n(623069);let eT=(0,eu.r1)("seen_draw_properties_panel_onboarding");function eb(e){let{panelsShown:t}=e,n=(0,l.md)(eT),{show:o,isShowing:a,complete:i}=(0,ep.e)({overlay:ey.y_w,priority:ed.N.DEFAULT_MODAL},[n]);(0,r.useEffect)(()=>{t&&o({canShow:e=>((0,I.k)().ce_il_onboarding??!1)&&e})},[t,o]);let s={type:"button",label:(0,v.tx)("draw.onboarding.dismiss_button"),onClick:i,ctaTrackingDescriptor:em.c.GOT_IT};return r.createElement(e_.rq,{arrowPadding:4,arrowPosition:eE.F_.RIGHT_BODY,description:(0,v.tx)("draw.onboarding.design_followup.description"),disableHighlight:!0,isShowing:a,onClose:i,onTargetLost:i,primaryCta:s,targetKey:eg.dP,title:(0,v.tx)("draw.onboarding.design_followup.title"),trackingContextName:"draw_onboarding",userFlagOnShow:"seen_draw_design_followup_onboarding"})}var ef=n(689128),eS=n(584514),eI=n(424364),eV=n(656546),eP=n(613712),ek=n(460279),eA=n(566090);function eF(){let{nodeType:e,count:t,nodeTypeAsUserDisplayableString:n}=(0,ef.u)(),l=(0,eP.RK)(),o=(0,ek.yG)(),a=r.useMemo(()=>[[l],eA.dd,[o],[eA.vo]],[l,o]);return(0,ea.ax)()?r.createElement(eI.W,{selectionName:r.createElement(eV.Y,{nodeCount:t,nodeType:e,nodeTypeString:n}),selectionActionsButtons:r.createElement(eS.P,{actions:a})}):null}function eC({allSavedPlugins:e,colorFormat:t,dropdownShown:n,library:o,localPlugins:c,modalShown:p,openFile:u,orgEntity:d,pickerInStyleCreationShown:_,pickerShown:E,publishedPlugins:y,saveAsState:T,sceneGraphSelection:b,scrollContainer:S,shownPanels:F,stylePickerListLayout:w,stylePickerShown:M}){let v=(0,s.wA)(),D=(0,l.md)(a.b),K=(0,X.qh)(),L=(0,f.SQ)(),x=(0,f.U4)(F),Q=(0,f.So)(F,!0),z=(0,G.hD)(),et=(0,k.kl)("exportSettings"),{numSelected:em,stateGroupSelectionInfo:ep}=(0,k.fC)("numSelected","stateGroupSelectionInfo"),{areOnlyResponsiveSetsSelected:eu,maskType:ed}=(0,k.pw)("areOnlyResponsiveSetsSelected","maskType"),{numSelected:e_,pluginRelaunchData:eE}=(0,k.DQ)("pluginRelaunchData","numSelected"),ey=(0,ea.p8)("currentPage"),eg=(0,ea.p8)("currentSelectedProperty"),eT=(0,f.Ws)(F,b),ef=(0,f.SJ)(),{onlyCooperFrames:eS}=(0,el.Cl)(),eI=(0,eo.qx)()&&eS,eV=(0,ei.o3)(ei.nt.designSelectionActionsPanel);return r.createElement(r.Fragment,null,0===Object.keys(b).length&&r.createElement(R.Mw,{panelName:R.ON.DESIGN}),r.createElement(eb,{panelsShown:F[m.ibQ.FILL_ITEM]??!1}),eV?r.createElement(eF,null):r.createElement(ec._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:(0,f.tV)(F,ep),shouldShowInstancePanel:(0,f.M0)(F),shouldShowTransformModifiersPanel:(0,en.m)().ce_il_array&&x,shouldShowVectorOperationPanel:L,withBottomBorder:!F[m.ibQ.VECTOR_TRANSFORM_UNIFIED_ITEM]}),r.createElement(g.VF,{isVisible:L},()=>r.createElement(J.x,{key:"vectorOperation",recordingKey:"vectorOperationPanel",numSelected:em})),(0,en.m)().ce_il_array&&r.createElement(g.VF,{isVisible:x},()=>r.createElement(i.sX,{key:"transformModifiers"})),r.createElement(g.VF,{isVisible:(0,f.tV)(F,ep)},()=>r.createElement(C.BS,{key:"componentProperties",recordingKey:"propsPanel"})),r.createElement(g.VF,{isVisible:F[m.ibQ.COMPONENT_ITEM]},()=>r.createElement(O.c,{key:"component",recordingKey:"componentPanel"})),r.createElement(g.VF,{isVisible:(0,f.M0)(F)},()=>r.createElement(Z._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(g.VF,{isVisible:eI},()=>r.createElement(er,null)),r.createElement(g.VF,{isVisible:(0,f.d6)(F)||F[m.ibQ.TRANSFORM_ITEM]},()=>r.createElement(H.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:D,openFileKey:u?.key||null,canEditConstraints:(0,f.GG)(F),onlyShowXYInputsRow:D===i.GR.DEFAULT_SIMPLIFIED||((eu&&(0,V.hS)(eu))??!1)})),r.createElement(g.VF,{isVisible:F[m.ibQ.VECTOR_TRANSFORM_UNIFIED_ITEM]},()=>r.createElement(H.U_,{key:"vector-transform",recordingKey:"transformPanel",openFileKey:u?.key||null,dispatch:v,dropdownShown:n})),r.createElement(g.VF,{isVisible:!eI&&Q},()=>r.createElement($.Vy,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:D===i.GR.DEFAULT_SIMPLIFIED,onlyStacksAndGridsSelected:!!F[m.ibQ.STACK_ITEM]})),r.createElement(i.F$,{isVisible:F[m.ibQ.SCALE_ITEM]}),r.createElement(U.Q,{selection:b,shownPanels:F,scaleShouldHideOtherPanels:(0,f.NR)(F)}),r.createElement(g.VF,{isVisible:F[m.ibQ.VECTOR_ITEM]},()=>r.createElement(H.VR,{isUI3:!0,key:"vector-transform",recordingKey:"vectorTransformPanel",dispatch:v,dropdownShown:n})),r.createElement(g.VF,{isVisible:F[m.ibQ.MASK_ITEM]},()=>r.createElement(j.B,{key:"mask",recordingKey:"maskPanel",maskType:ed,dispatch:v,dropdownShown:n})),r.createElement(g.VF,{isVisible:F[m.ibQ.LAYER_ITEM]},()=>r.createElement(es.X2,{recordingKey:"appearancePanel"})),r.createElement(g.VF,{isVisible:F[m.ibQ.TYPE_ITEM]},()=>r.createElement(i.gc,{key:"type"})),r.createElement(g.VF,{isVisible:F[m.ibQ.CANVAS_ITEM]},()=>r.createElement(N.v,{key:"canvas-background",colorFormat:t,defaultColor:P.rC,dispatch:v,dropdownShown:n,hasExports:!!et&&(0,V._W)(et,[]).length>0,library:o,modalShown:p,openFile:u,pickerShown:E,recordingKey:"canvasBackgroundPanel",sceneGraphSelection:b})),r.createElement(g.VF,{isVisible:F[m.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(q.C,{key:"remove-group-fill-stroke"})),r.createElement(g.VF,{isVisible:F[m.ibQ.FILL_ITEM]},()=>r.createElement(i.B8,{key:"fill",variableScopes:K})),r.createElement(g.VF,{isVisible:F[m.ibQ.STROKE_ITEM]},()=>r.createElement(W.$p,{key:"stroke",colorFormat:t,defaultColor:P.Em,dispatch:v,dropdownShown:n,isPanelBodyCollapsedAtom:null,library:o,modalShown:p,openFile:u,pickerInStyleCreationShown:_,pickerShown:E,recordingKey:"strokePanel",sceneGraphSelection:b,stylePickerListLayout:w,stylePickerShown:M})),r.createElement(g.VF,{isVisible:F[m.ibQ.EFFECTS_ITEM]},()=>r.createElement(i.w5,{key:"effects"})),r.createElement(g.VF,{isVisible:ef},()=>r.createElement(W.UA,{key:"selection-paints",colorFormat:t,defaultColor:P.rC,dispatch:v,dropdownShown:n,isUI3:!0,library:o,openFile:u,pickerShown:E,recordingKey:"selectionPaintsPanel",sceneGraphSelection:b,stylePickerListLayout:w})),r.createElement(g.VF,{isVisible:eT},()=>r.createElement(ee.B,{key:"local-variables"})),r.createElement(g.VF,{isVisible:(0,f.ww)(F,b)},()=>r.createElement(h.Q,{key:"local-styles",recordingKey:"local-styles",scrollContainer:S})),r.createElement(g.VF,{isVisible:F[m.ibQ.GRIDS_ITEM]},()=>r.createElement(i.tC,{key:"grids"})),r.createElement(g.VF,{isVisible:(0,f.P1)(F,u)},()=>r.createElement(G.LI,{key:"export",currentPage:ey,currentSelectedProperty:eg,dispatch:v,dropdownShown:n,exportSettings:et,isSelectionRenamable:G.LI.isSelectionRenamable(Object.keys(b)),numSelected:em,openFile:u,panelWidth:f.iP,pickerShown:E,recordingKey:"exportsPanel",saveAsState:T,sceneGraphSelection:b,singleNodeName:z})),r.createElement(g.VF,{isVisible:!(0,f.NR)(F)},()=>r.createElement(Y.Q,{key:"plugin",allSavedPlugins:e.plugins,dispatch:v,editorType:u?.editorType?(0,A.wN)(u.editorType):null,localPlugins:c,numSelected:e_??0,openFileKey:u?.key||null,orgEntity:d,pluginRelaunchData:eE,publishedPlugins:y,recordingKey:"pluginPanel"})),(0,I.k)().jsx_debugging&&r.createElement(B.A,{recordingKey:"jsxDebugPanel"}))}function eh(e){let t=(0,s.wA)(),n=(0,d.GS)(),l=(0,E.iZ)(),o=(0,f.Dj)(l),a=(0,y.J2)((0,_.UK)().expandedFramePresetType);return(((0,c.Im)(e.shownPanels)||Object.keys(e.shownPanels).every(t=>!e.shownPanels[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,u.Lg)()&&!(0,u.nl)()&&!(0,u.QJ)()&&(0,p.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,c.Im)(e.shownPanels),shouldRenderInspectTab:o}),e.shownPanels[m.ibQ.FRAME_PRESETS])?r.createElement(g.VF,{isVisible:!0},()=>r.createElement(T.nl,{key:"frame-presets",recordingKey:"framePresetPanel",dispatch:t,expandedFramePresetType:a})):e.shownPanels[m.ibQ.PENCIL_TOOL]?r.createElement(g.VF,{isVisible:!0},()=>r.createElement(b.q,{key:"pencilToolPanel",recordingKey:"pencilToolPanel",id:"pencilToolPanel",openFile:e.openFile})):n?r.createElement(eC,{...e}):r.createElement(et,{...e})}var ew=n(938982),eR=n(998568),eN=n(612770);function eO({allSavedPlugins:e,colorFormat:t,dropdownShown:n,library:o,localPlugins:c,modalShown:p,openFile:u,orgEntity:d,pickerInStyleCreationShown:_,pickerShown:E,publishedPlugins:y,saveAsState:T,sceneGraphSelection:b,shownPanels:I,stylePickerListLayout:F,stylePickerShown:C}){let h=(0,s.wA)(),[R,M]=(0,l.fp)(a.b),v=(0,X.qh)(),D=(0,G.hD)(),K=(0,k.kl)("exportSettings"),L=(0,k.Gt)("numSelected"),{maskType:x}=(0,k.pw)("maskType"),{pluginRelaunchData:B,numSelected:J}=(0,k.DQ)("pluginRelaunchData","numSelected"),ee=(0,f.So)(I,!1),et=(0,ea.s6)("currentPage","currentSelectedProperty");return r.createElement(S.i,null,(0,f.d6)(I)&&r.createElement(w.AV,{recordingKey:"alignPanel"}),r.createElement(g.VF,{isVisible:!0},()=>r.createElement(H.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:R,openFileKey:u?.key||null,canEditConstraints:!1,onlyShowXYInputsRow:!1})),r.createElement(i.F$,{isVisible:I[m.ibQ.SCALE_ITEM]}),r.createElement(g.VF,{isVisible:!(0,f.NR)(I)},()=>r.createElement(Z._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(g.VF,{isVisible:(0,f.GG)(I)},()=>r.createElement(Q,{key:"constraints",recordingKey:"constraintsPanel",openFileKey:u?.key||null,dropdownShown:n})),r.createElement(g.VF,{isVisible:I[m.ibQ.LAYER_ITEM]},()=>r.createElement(z.s,{key:"layer",recordingKey:"layerPanel"})),R===i.GR.DEFAULT_SIMPLIFIED&&r.createElement(eN.Y,{onExpand:()=>M(i.GR.OVERRIDDEN_EXPANDED)}),R===i.GR.OVERRIDDEN_EXPANDED&&r.createElement(r.Fragment,null,r.createElement(U.Q,{selection:b,shownPanels:I,scaleShouldHideOtherPanels:(0,f.NR)(I)}),r.createElement(g.VF,{isVisible:I[m.ibQ.COMPONENT_ITEM]},()=>r.createElement(O.c,{key:"component",recordingKey:"componentPanel"})),r.createElement(g.VF,{isVisible:I[m.ibQ.VECTOR_ITEM]},()=>r.createElement(H.VR,{key:"vector-transform",recordingKey:"vectorTransformPanel",dispatch:h,dropdownShown:n,isUI3:!1})),r.createElement(g.VF,{isVisible:ee},()=>r.createElement($.Vy,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:!1,onlyStacksAndGridsSelected:!!I[m.ibQ.STACK_ITEM]})),r.createElement(g.VF,{isVisible:I[m.ibQ.MASK_ITEM]},()=>r.createElement(j.B,{key:"mask",recordingKey:"maskPanel",maskType:x,dispatch:h,dropdownShown:n})),r.createElement(g.VF,{isVisible:I[m.ibQ.GRIDS_ITEM]},()=>r.createElement(i.tC,{key:"grids"})),r.createElement(g.VF,{isVisible:I[m.ibQ.TYPE_ITEM]},()=>r.createElement(i.gc,{key:"type"})),r.createElement(g.VF,{isVisible:I[m.ibQ.CANVAS_ITEM]},()=>r.createElement(N.v,{key:"canvas-background",colorFormat:t,defaultColor:P.rC,dispatch:h,dropdownShown:n,hasExports:!!K&&(0,V._W)(K,[]).length>0,library:o,modalShown:p,openFile:u,pickerShown:E,recordingKey:"canvasBackgroundPanel",sceneGraphSelection:b})),r.createElement(g.VF,{isVisible:I[m.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(q.C,{key:"remove-group-fill-stroke"})),r.createElement(g.VF,{isVisible:I[m.ibQ.FILL_ITEM]},()=>r.createElement(i.B8,{key:"fill",variableScopes:v})),r.createElement(g.VF,{isVisible:I[m.ibQ.STROKE_ITEM]},()=>r.createElement(W.$p,{key:"stroke",colorFormat:t,defaultColor:P.Em,dispatch:h,dropdownShown:n,isPanelBodyCollapsedAtom:null,library:o,modalShown:p,openFile:u,pickerInStyleCreationShown:_,pickerShown:E,recordingKey:"strokePanel",sceneGraphSelection:b,stylePickerListLayout:F,stylePickerShown:C})),r.createElement(g.VF,{isVisible:!0},()=>r.createElement(W.UA,{key:"selection-paints",colorFormat:t,defaultColor:P.rC,dispatch:h,dropdownShown:n,isUI3:!1,library:o,openFile:u,pickerShown:E,recordingKey:"selectionPaintsPanel",sceneGraphSelection:b,stylePickerListLayout:F})),r.createElement(g.VF,{isVisible:I[m.ibQ.EFFECTS_ITEM]},()=>r.createElement(i.w5,{key:"effects"})),r.createElement(g.VF,{isVisible:!(0,f.NR)(I)},()=>r.createElement(Y.Q,{key:"plugin",allSavedPlugins:e.plugins,dispatch:h,editorType:u?.editorType?(0,A.wN)(u.editorType):null,localPlugins:c,numSelected:J??0,openFileKey:u?.key||null,orgEntity:d,pluginRelaunchData:B,publishedPlugins:y,recordingKey:"pluginPanel"}))),r.createElement(g.VF,{isVisible:(0,f.P1)(I,u)},()=>r.createElement(G.LI,{key:"export",currentPage:et.currentPage,currentSelectedProperty:et.currentSelectedProperty,dispatch:h,dropdownShown:n,exportSettings:K,isSelectionRenamable:G.LI.isSelectionRenamable(Object.keys(b)),numSelected:L,openFile:u,panelWidth:f.iP,pickerShown:E,recordingKey:"exportsPanel",saveAsState:T,sceneGraphSelection:b,singleNodeName:D})),r.createElement(g.VF,{isVisible:!(0,f.NR)(I)},()=>r.createElement(Y.Q,{key:"plugin",allSavedPlugins:e.plugins,dispatch:h,editorType:u?.editorType?(0,A.wN)(u.editorType):null,localPlugins:c,numSelected:J??0,openFileKey:u?.key||null,orgEntity:d,pluginRelaunchData:B,publishedPlugins:y,recordingKey:"pluginPanel"})))}function eM({allSavedPlugins:e,colorFormat:t,dropdownShown:n,library:o,localPlugins:c,modalShown:p,openFile:u,orgEntity:d,pickerInStyleCreationShown:_,pickerShown:E,publishedPlugins:y,saveAsState:T,sceneGraphSelection:b,shownPanels:I,stylePickerListLayout:F,stylePickerShown:C}){let h=(0,s.wA)(),[w,M]=(0,l.fp)(a.b),v=(0,ea.s6)("currentPage","currentSelectedProperty"),D=(0,X.qh)(),K=(0,G.hD)(),L=(0,k.kl)("exportSettings"),x=(0,f.So)(I,!0),{numSelected:Q,stateGroupSelectionInfo:B}=(0,k.fC)("numSelected","stateGroupSelectionInfo"),{maskType:z,areOnlyResponsiveSetsSelected:J}=(0,k.pw)("maskType","areOnlyResponsiveSetsSelected"),{pluginRelaunchData:ee,numSelected:et}=(0,k.DQ)("pluginRelaunchData","numSelected"),en=(0,f.SJ)(),er=(0,ei.o3)(ei.nt.designSelectionActionsPanel);return r.createElement(S.i,null,0===Object.keys(b).length&&r.createElement(R.Mw,{panelName:R.ON.DESIGN}),er?r.createElement(eF,null):r.createElement(ec._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:(0,f.tV)(I,B),shouldShowInstancePanel:(0,f.M0)(I)}),r.createElement(g.VF,{isVisible:!(0,f.NR)(I)},()=>r.createElement(Z._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(g.VF,{isVisible:!0},()=>r.createElement(H.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:w,openFileKey:u?.key||null,canEditConstraints:(0,f.GG)(I),onlyShowXYInputsRow:w===i.GR.DEFAULT_SIMPLIFIED||((J&&(0,V.hS)(J))??!1)})),r.createElement(g.VF,{isVisible:I[m.ibQ.VECTOR_TRANSFORM_UNIFIED_ITEM]},()=>r.createElement(H.U_,{key:"vector-transform",recordingKey:"transformPanel",openFileKey:u?.key||null,dispatch:h,dropdownShown:n})),r.createElement(g.VF,{isVisible:x},()=>r.createElement($.Vy,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:w===i.GR.DEFAULT_SIMPLIFIED,onlyStacksAndGridsSelected:!!I[m.ibQ.STACK_ITEM]})),r.createElement(i.F$,{isVisible:I[m.ibQ.SCALE_ITEM]}),w===i.GR.DEFAULT_SIMPLIFIED&&r.createElement(eN.Y,{onExpand:()=>M(i.GR.OVERRIDDEN_EXPANDED)}),w===i.GR.OVERRIDDEN_EXPANDED&&r.createElement(r.Fragment,null,r.createElement(g.VF,{isVisible:I[m.ibQ.LAYER_ITEM]},()=>r.createElement(es.X2,{recordingKey:"appearancePanel"})),r.createElement(U.Q,{selection:b,shownPanels:I,scaleShouldHideOtherPanels:(0,f.NR)(I)}),r.createElement(g.VF,{isVisible:I[m.ibQ.COMPONENT_ITEM]},()=>r.createElement(O.c,{key:"component",recordingKey:"componentPanel"})),r.createElement(g.VF,{isVisible:I[m.ibQ.VECTOR_ITEM]},()=>r.createElement(H.VR,{isUI3:!0,key:"vector-transform",recordingKey:"vectorTransformPanel",dispatch:h,dropdownShown:n})),r.createElement(g.VF,{isVisible:I[m.ibQ.MASK_ITEM]},()=>r.createElement(j.B,{key:"mask",recordingKey:"maskPanel",maskType:z,dispatch:h,dropdownShown:n})),r.createElement(g.VF,{isVisible:I[m.ibQ.TYPE_ITEM]},()=>r.createElement(i.gc,{key:"type"})),r.createElement(g.VF,{isVisible:I[m.ibQ.CANVAS_ITEM]},()=>r.createElement(N.v,{key:"canvas-background",colorFormat:t,defaultColor:P.rC,dispatch:h,dropdownShown:n,hasExports:!!L&&(0,V._W)(L,[]).length>0,library:o,modalShown:p,openFile:u,pickerShown:E,recordingKey:"canvasBackgroundPanel",sceneGraphSelection:b})),r.createElement(g.VF,{isVisible:I[m.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(q.C,{key:"remove-group-fill-stroke"})),r.createElement(g.VF,{isVisible:I[m.ibQ.FILL_ITEM]},()=>r.createElement(i.B8,{key:"fill",variableScopes:D})),r.createElement(g.VF,{isVisible:I[m.ibQ.STROKE_ITEM]},()=>r.createElement(W.$p,{key:"stroke",colorFormat:t,defaultColor:P.Em,dispatch:h,dropdownShown:n,isPanelBodyCollapsedAtom:null,library:o,modalShown:p,openFile:u,pickerInStyleCreationShown:_,pickerShown:E,recordingKey:"strokePanel",sceneGraphSelection:b,stylePickerListLayout:F,stylePickerShown:C})),r.createElement(g.VF,{isVisible:I[m.ibQ.EFFECTS_ITEM]},()=>r.createElement(i.w5,{key:"effects"})),r.createElement(g.VF,{isVisible:en},()=>r.createElement(W.UA,{key:"selection-paints",colorFormat:t,defaultColor:P.rC,dispatch:h,dropdownShown:n,isUI3:!0,library:o,openFile:u,pickerShown:E,recordingKey:"selectionPaintsPanel",sceneGraphSelection:b,stylePickerListLayout:F})),r.createElement(g.VF,{isVisible:I[m.ibQ.GRIDS_ITEM]},()=>r.createElement(i.tC,{key:"grids"}))),r.createElement(g.VF,{isVisible:(0,f.P1)(I,u)},()=>r.createElement(G.LI,{key:"export",currentPage:v.currentPage,currentSelectedProperty:v.currentSelectedProperty,dispatch:h,dropdownShown:n,exportSettings:L,isSelectionRenamable:G.LI.isSelectionRenamable(Object.keys(b)),numSelected:Q,openFile:u,panelWidth:f.iP,pickerShown:E,recordingKey:"exportsPanel",saveAsState:T,sceneGraphSelection:b,singleNodeName:K})),r.createElement(g.VF,{isVisible:!(0,f.NR)(I)},()=>r.createElement(Y.Q,{key:"plugin",allSavedPlugins:e.plugins,dispatch:h,editorType:u?.editorType?(0,A.wN)(u.editorType):null,localPlugins:c,numSelected:et??0,openFileKey:u?.key||null,orgEntity:d,pluginRelaunchData:ee,publishedPlugins:y,recordingKey:"pluginPanel"})))}function ev(e){let t=(0,d.GS)();if((0,c.Im)(e.shownPanels)||Object.keys(e.shownPanels).every(t=>!e.shownPanels[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,eR.$D)(ew.e.EDITOR_USABILITY,e)}return t?r.createElement(eM,{...e}):r.createElement(eO,{...e})}function eD({scrollContainer:e,...t}){let n=(0,l.md)(a.b),s=(0,o.zp)();return n===i.GR.DEFAULT_EXPANDED?r.createElement(eh,{...t,orgEntity:s,scrollContainer:e}):r.createElement(ev,{...t,orgEntity:s})}},730871:(e,t,n)=>{n.d(t,{x:()=>d});var r=n(848318),l=n(531788),o=n(186606),a=n(781239),i=n(297638),s=n(967688),c=n(696786),m=n(345204),p=n(614892),u=n(699848);function d({recordingKey:e,numSelected:t}){let n=(0,c.GS)(),d=()=>{o.glU.upgradeToLatestVectorOperationVersion()},_=(0,s.tx)("fullscreen.properties_panel.vector_operation.update_text",{numNodes:t??1}),E=(0,s.tx)("fullscreen.properties_panel.vector_operation.update_button");return r.createElement(p.Zk,null,r.createElement("p",{className:i.s.pl16.pr16.mb12.font11.$},_),n?r.createElement(u.Ad,{label:null,input:r.createElement(l.$n,{variant:"secondary",onClick:d,recordingKey:a.Pt(e,"updateBoolean")},E)}):r.createElement(m.z,{onClick:d,recordingKey:a.Pt(e,"updateBooleanUI2")},E))}}}]);

//# debugId=a94bed5e-1aa2-5384-b8fa-93c85fc2715a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f47c8c0f6214eab1a9b8a7c77164626b9372e6af/7763-e3a079f7b9ee8bfc.min.js.map