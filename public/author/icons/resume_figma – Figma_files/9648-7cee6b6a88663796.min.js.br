"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1306ffbf-c821-5ba6-8499-fb59ce3afb9d")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[9648],{575061:(e,t,a)=>{a.d(t,{AR:()=>j,A_:()=>W,DN:()=>p,E3:()=>B,FK:()=>y,Gv:()=>c,Hd:()=>s,JX:()=>H,Kl:()=>l,Mf:()=>_,Ng:()=>d,ON:()=>b,PP:()=>E,Pt:()=>I,QF:()=>Q,Qu:()=>V,S:()=>Y,Ub:()=>f,Uj:()=>P,VA:()=>X,VN:()=>F,Wz:()=>k,Ye:()=>o,ZE:()=>O,bV:()=>C,bq:()=>D,cB:()=>U,d3:()=>L,dJ:()=>i,gC:()=>n,gD:()=>R,gP:()=>N,jT:()=>r,k8:()=>w,kb:()=>G,lX:()=>h,mH:()=>v,nN:()=>u,nZ:()=>M,oB:()=>m,q_:()=>x,sH:()=>T,x0:()=>S,xR:()=>g,yl:()=>A,zN:()=>z});let r="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",n="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",s="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",o="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",m="fd_browse_resource_modal--tabsContainer--v6cIk",u="fd_browse_resource_modal--tabClickTarget--QDM1e",_="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",g="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",E="fd_browse_resource_modal--searchBarContainer--Q2kZ7",v="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",f="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",p="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",w="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",b="fd_browse_resource_modal--searchBar---bmO8",h="fd_browse_resource_modal--searchBarEmpty--8dNhE",y="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",N="fd_browse_resource_modal--searchBarFilterButton--hQeym",I="fd_browse_resource_modal--filterButtonActive--8krHg",C="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",T="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",k="fd_browse_resource_modal--horizontalDivider--H67hA",P="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",x="fd_browse_resource_modal--mainViewHeader--AZpur",L="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",R="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",A="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",D="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",B="fd_browse_resource_modal--mainViewSelector--chQy5",O="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",S="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",M="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",G="fd_browse_resource_modal--left--si6Cj",W="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",F="fd_browse_resource_modal--close--G1pa0",Q="fd_browse_resource_modal--expandedViewContainer--EvsBd",V="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",H="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",z="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",Y="fd_browse_resource_modal--loadingSpinner--0IwJ9",X="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",j="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},861090:(e,t,a)=>{a.d(t,{H:()=>r});let r=a(848318).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},354099:(e,t,a)=>{a.d(t,{O:()=>o});var r=a(848318),n=a(773511),l=a(967688),s=a(303397),i=a(17753);function o({children:e}){let t=(0,l.t)("fullscreen_actions.expand-ui");return r.createElement(n.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>s.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":t,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":i.Ib.TEXT,"data-tooltip":t,"data-tooltip-shortcut-key":"toggle-sidebar"}},e)}},480259:(e,t,a)=>{a.d(t,{n:()=>m,A:()=>u});var r=a(848318),n=a(140415),l=a(223931),s=a(967688),i=a(303397),o=a(831271),c=a(17753),d=a(43258);function m(){let e=(0,o.q)()?(0,s.t)("fullscreen_actions.expand-ui"):(0,s.t)("fullscreen_actions.minimize-ui");return r.createElement(l.J,{"aria-label":e,onClick:()=>i.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":d.ue,"data-tooltip":e,"data-tooltip-type":c.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},r.createElement(n.C,null))}function u(){return r.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},r.createElement(n.C,null))}},547119:(e,t,a)=>{a.d(t,{U:()=>d});var r=a(848318),n=a(679081),l=a(408193),s=a(781239),i=a(967688),o=a(17753),c=a(978819);function d(e){let{Dropdown:t,toggleDropdown:a,dropdownTargetRef:d,isDropdownShown:m}=(0,c.B)("LAYERS_PANEL_DROPDOWN");return r.createElement(r.Fragment,null,r.createElement("div",{ref:d},r.createElement(n.d,{"aria-label":(0,i.t)("dev_handoff.code.options"),recordingKey:e.recordingKey,"aria-expanded":m,onClick:function(e){e.stopPropagation(),a()},htmlAttributes:{"data-tooltip":(0,i.t)("dev_handoff.code.options"),"data-tooltip-type":o.Ib.TEXT}},r.createElement(l.J,null))),r.createElement(t,{items:e.dropdownItems,showPoint:!0,lean:e.lean,recordingKey:s.Pt(e.recordingKey,"dropdown")}))}},881658:(e,t,a)=>{let r,n,l,s;a.d(t,{k:()=>D});var i=a(848318),o=a(301168),c=a(730455),d=a(329228),m=a(454805),u=a(66699),_=a(566726),g=a(212885),E=a(453370),v=a(986368),f=a(863270),p=a(995218),w=a(755860),b=a(760641),h=a(511067),y=a(259964),N=a(645445),I=a(219990),C=a(122586),T=a(18455),k=a(638166),P=a(731889),x=a(175393),L=a(162773),R=a(515640),A=a(575061);function D(){let e=(0,o.d4)(e=>e.universalInsertModal),t=(0,o.d4)(e=>e.mirror.appModel.showUi),{fdPreviewResource:a,initialFdView:D,initialFdResourceTab:O}=e,S=a?.type,{activeTab:M,setCurrentViewOrTab:U,currentView:G}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,o.d4)(e=>e.universalInsertModal),[a,r]=i.useState(e||n||P.s.COMPONENT),[c,d]=i.useState(e===P.s.PLUGIN&&t||l||"recents_and_saved"),[m,u]=i.useState(e===P.s.WIDGET&&t||s||"recents_and_saved"),_=i.useCallback(e=>{e===P.s.PLUGIN?l=c:e===P.s.WIDGET&&(s=m)},[c,m]),g=a===P.s.PLUGIN?c:m,E=i.useCallback(({newView:e,newTab:t})=>{let l=t===P.s.PLUGIN?c:t===P.s.WIDGET?m:void 0;e&&l!==e&&(_(a),(t||a)===P.s.PLUGIN?d(e):(t||a)===P.s.WIDGET&&u(e)),t&&a!==t&&(_(a),n=a,r(t))},[a,c,m,_]);return i.useEffect(()=>{E({newView:t,newTab:e})},[e,t]),i.useEffect(()=>{n=a,_(a)},[a,_]),i.useMemo(()=>({activeTab:a,currentView:g,setCurrentViewOrTab:E}),[a,g,E])}(),W="ui3"===(0,c.DP)().version,F=(0,o.wA)(),Q=i.useRef(null),[V]=i.useState(D?"":r||"");i.useEffect(()=>{(0,u.YQ)({id:"figma-inserts-opened"}),(0,u.YQ)({id:I.ko})},[]);let H=(0,C.Au)();i.useEffect(()=>{H&&F(v.eo())}),i.useEffect(()=>{r=V},[V]),i.useEffect(()=>F(g.aq()),[F]),(0,d.IT)((0,_.se)()),(0,d.IT)((0,_.fd)()),i.useEffect(()=>{U({newTab:S||O})},[O,S]);let z=(0,p.E3)(),[Y,X]=i.useState(),j=W?k.tS:k.Zv;(0,b.J$)(e.pinned===N.t.NOT_PINNED,Q,j);let Z=(0,k.CK)(),K=(0,k.CG)(),{bounds:$,showLeftPinBound:q,setShowLeftPinBound:J,shouldSnapToPosition:ee,setPinned:et}=(0,T.C)(B,X,e.pinned,Z,K,e.showing),ea=(0,b.LR)(),er=(0,h.Um)(),en=i.useCallback(e=>{e.stopPropagation(),er&&F(E.oB())},[F,er]),el=i.useMemo(()=>({activeTab:M,viewResource:e=>{F(v.IN({fdPreviewResource:e}))},closeResource:()=>{F(v.IN({fdPreviewResource:void 0}))},closeModal:ea,pinModal:et,setCurrentViewOrTab:U,currentView:G}),[M,ea,et,F,U,G]),es=i.useCallback(e=>{w.VU.get("set-tool-default","toolbar")(),F(v.jy({pinned:N.t.PINNED})),en(e)},[F,en]),ei=i.useCallback(()=>{q&&et()},[q,et]);if(!e.showing)return null;let eo={height:"auto",overflow:"hidden"};return(e.pinned!==N.t.NOT_PINNED||W||(eo.borderTopLeftRadius="0px"),z===y.nT.DevHandoff)?null:i.createElement(f.fu,{name:"universal-insert"},e.pinned===N.t.PINNED&&q&&i.createElement("div",{className:R.k,style:{left:Z.x,top:Z.y,width:k.AN}}),i.createElement(k.B0.Provider,{value:el},i.createElement(x.vx,{ref:Q,bounds:$,canResetPosition:ee,containerClassName:e.pinned===N.t.PINNED_AND_DOCKED_LEFT?A.gC:A.jT,frameStyle:eo,initialPosition:Y||new m.Mi(e.initialX,e.initialY),initialWidth:k.AN,minTopMargin:t?void 0:0,onClick:en,onClose:ea,onDragEnd:ei,onDragStart:es,onEnterBound:()=>{W||J(!0)},onLeaveBound:()=>{J(!1)}},i.createElement(L.z,null))))}function B(){return{x:-k.AN,y:0,width:2*k.AN+k.wR,height:window.innerHeight}}},162773:(e,t,a)=>{let r;a.d(t,{z:()=>t0});var n=a(848318),l=a(301168),s=a(679081),i=a(749214);let o=(0,n.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14M8 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m1.5 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm1 2.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var c=a(947078),d=a(999667),m=a(536384),u=a.n(m),_=a(277930),g=a(857607),E=a(156974),v=a(561258),f=a(755534),p=a(847240),w=a(401970),b=a(297638),h=a(967688),y=a(843117),N=a(828237),I=a(453370),C=a(863270),T=a(652576),k=a(338104),P=a(760641),x=a(511067),L=a(180294),R=a(794025),A=a(324747),D=a(17753),B=a(698429),O=a(335744),S=a(120846),M=a(274563),U=a(660182),G=a(466930),W=a(679044),F=a(277454),Q=a(337609),V=a(663934),H=a(100970),z=a(524873),Y=a(638166);function X(e){let t=(0,l.wA)(),a=(0,l.Pj)(),r=(0,l.d4)(z.m),s=(0,l.d4)(e=>(0,Q.CX)(e)),i=n.useRef(null),o=(0,Y.NF)(Y.gC+Y.Kr+Y.Ix);n.useEffect(()=>{(async()=>{if(t((0,G.zK)()),s){await F.NW;let{fileVersion:e}=a.getState();e&&!(0,F.El)("INVALID-FILE-KEY-SHOULD-BE-REMOVED",s)&&a.dispatch((0,W.n)({libraryKey:s}))}})()},[t,s,a]);let[c,d]=n.useState(!1);return n.createElement("div",null,e.header,n.createElement("div",{"data-not-draggable":!0},n.createElement(H.LL,{drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},entrypointForLogging:null,isSearching:c,pickerType:U.Zl.RESOURCE_INSERT_MODAL,query:e.query,recordingKey:"componentInsert",scrollContainerHeight:o,searchBarRef:i,selectedItems:r?[r]:[],setIsSearching:d,setQuery:e.setQuery,toggleGridViewButton:n.createElement(H.Cc,{isSwapPicker:!1})}),n.createElement(V.Q,null)))}var j=a(954703),Z=a(408193),K=a(572220),$=a(580494),q=a(540882),J=a(264478),ee=a(345964),et=a(720522),ea=a(118937),er=a(317573),en=a(511806),el=a(982588),es=a(125761),ei=a(522242),eo=a(267849);function ec({resource:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile),a=(0,es.iZ)(),r=(0,el.ej)(e);return n.createElement("div",{className:ei.I4,"data-not-draggable":!0},n.createElement("div",{className:ei.QW},n.createElement(et.B,{svg:eo.A})),n.createElement("div",{className:ei.hI},(0,h.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),n.createElement("div",{className:ei.JL},n.createElement("button",{onClick:()=>{(0,en.mG)(e,A.aL.INSERTS,a.id,t?.id),r()}},(0,h.tx)("community.buyer.update_payment"))))}var ed=a(327836);a(14323),a(459633),a(861090);var em=a(913026);a(175393),a(414607),a(593713);let eu="rating_stats_data--averageStar--YdqTY";function e_({isHovered:e}){return n.createElement("span",{className:eu,"aria-label":(0,h.t)("community.detail_view.full_star")},n.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function eg(){return n.createElement("span",{className:eu,"aria-label":(0,h.t)("community.detail_view.empty_star")},n.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let eE="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var ev=a(833198),ef=a(733948);function ep({onSelect:e,existingRating:t,showDescriptions:a=!1,useBigStars:r=!0,isOptional:l=!1,disabled:s=!1,disabledTooltip:i}){let[o,c]=(0,n.useState)(0),[d,m]=(0,n.useState)(0),[u,_]=(0,n.useState)(!1),g=[(0,h.t)("community.star_ratings.i_really_dont_like_it"),(0,h.t)("community.star_ratings.i_dont_like_it"),(0,h.t)("community.star_ratings.its_okay"),(0,h.t)("community.star_ratings.i_like_it"),(0,h.t)("community.star_ratings.i_love_it")];(0,n.useEffect)(()=>{void 0===t||o||(c(t),m(t))},[t,o]);let E=r?n.createElement(et.B,{svg:ev.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,h.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):n.createElement(eg,null),v=r?n.createElement(et.B,{svg:ef.A,className:u?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,h.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):n.createElement(e_,{isHovered:u}),f=e=>{s||(c(e+1),_(!0))},p=t=>{s||(t+1===d&&l?(m(0),e(0)):(m(t+1),e(t+1)))};return n.createElement("div",{className:r?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},n.createElement("div",{className:s?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{s||d===o||c(d)},"data-tooltip-type":s?D.Ib.TEXT:void 0,"data-tooltip":s?i:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(n.createElement("span",{className:b.s.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>f(t),onMouseLeave:()=>_(!1),onClick:()=>p(t),role:"button",tabIndex:0},t<o?v:E));return e})()),n.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},n.createElement(n.Fragment,null,a&&n.createElement("div",{className:r?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":eE},g[o-1]),l&&0===o&&n.createElement("div",{className:eE},s?(0,h.tx)("community.rating_review.ratings_not_available"):(0,h.tx)("community.rating_review.optional")))))}function ew({userRating:e,isInsertsModal:t,disabled:a,disabledTooltip:r,openRatingModal:l}){return n.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},n.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?n.createElement("div",{onClick:()=>l(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,h.tx)("community.detail_view.edit_rating")):(0,h.tx)("community.detail_view.leave_a_rating")),n.createElement(ep,{onSelect:l,existingRating:e?.ratingValue,disabled:a,disabledTooltip:r}))}var eb=a(900003),eh=a(823898),ey=a(566726),eN=a(792533),eI=a(661642),eC=a(531851),eT=a(14837),ek=a(61993),eP=a(903691),ex=a(20687),eL=a(125952),eR=a(877686),eA=a(714351),eD=a(881457),eB=a(113158),eO=a(215533),eS=a(564422);function eM({onBack:e,text:t}){let a=(0,B.ks)();return n.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},n.createElement(et.B,{"data-not-draggable":!0,svg:eS.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!a&&n.createElement(Y.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eU=a(870271),eG=a(731889),eW=a(879411),eF=a(695567);let eQ="detail_view--ratingSelectorContainer--zbvCM";var eV=a(55550),eH=a(580012),ez=a(415431),eY=a(86097);function eX(e){let t=(0,l.wA)(),{activeTab:a}=(0,Y.IT)(),r=a===eG.s.PLUGIN,s=(0,T.cW)(),i=(0,T.ZT)(),o=(r?s:i)[e.resourceId];return(n.useEffect(()=>{o&&o.community_publishers||t(ey.af({id:e.resourceId,resourceType:r?A.bD.PLUGIN:A.bD.WIDGET}))},[t,o,e.resourceId,r]),o)?n.createElement(ej,{resourceId:e.resourceId,resource:o}):n.createElement("div",{className:b.s.flex.wFull.borderBox.justifyCenter.pt32.$},n.createElement(ee.kt,{size:"medium"}))}function ej(e){let{resource:t}=e,{activeTab:a}=(0,Y.IT)(),r=a===eG.s.PLUGIN,s=(0,l.wA)(),i=(0,B.ks)(),o=(0,T.x)(),c=(0,x.Um)(),d=(0,Y.NF)((0,eT.T)()?Y.gC+64:Y.gC),m=(0,l.d4)(e=>e.authedUsers),_=(0,el.EO)(t),g=(0,el.lt)(t),E=(0,el.gn)(t),v=(0,eb.QQ)(g),p=(0,l.d4)(e=>e.authedActiveCommunityProfile),y=(0,eO.b)(),N=(0,L.sZ)(),k=(0,T.ll)(),P=(0,T.U6)(),R=Object.values((0,T.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:O,onInsertableResourcePointerDown:S}=(0,eP.P)({resource:(0,ex.uF)(t),clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:y,triggeredFrom:"universal-insert"}),{canRate:M=!1}={},U=n.useCallback(()=>{s(eN.S({url:r?(0,eR.ab)(e.resourceId):(0,eR.ox)(e.resourceId),linkType:r?"plugin":"widget"}))},[s,e.resourceId,r]),G=r&&c?.type===eU.yW&&c.data.pluginId===e.resourceId&&c.data.targetRect,W=n.useCallback(t=>{t.stopPropagation(),r&&(G?s(I.oB()):s(I.j7({type:eU.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[r,G,s,e.resourceId]),F=n.useCallback(()=>{s(I.oB())},[s]);if(!t)return null;t.community_resource_payment=g;let Q=(0,ex.uF)(t),V=(0,el.Zk)(p,m,t),H=(0,ex.og)({canAssociatedUserPurchaseThisResource:V,resource:t}),z=!R&&(0,eC.XV)({org:N,extension:t,allowlistedExtensions:r?k:P}),X=r?n.createElement(eF.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):n.createElement(eF.GJ,{widgetId:e.resourceId});return n.createElement(C.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:r?A.bD.PLUGIN:A.bD.WIDGET,isMonetized:(0,A.m3)(t),editorType:"figma"}},n.createElement(eZ,null),n.createElement(f.P,{height:d,onScroll:F,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement("div",{className:"detail_view--contentContainer--nSBG8"},n.createElement("div",{className:(0,eT.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},n.createElement("div",{className:(0,eT.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},n.createElement("img",{className:u()([(0,eT.T)()?"detail_view--coverImageVsCode--ZtGDB":r?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",b.s.if((0,eT.T)(),b.s.bRadius5).$]),src:Q.redirect_cover_image_url||"",alt:`${Q.name}`,onPointerDown:e=>!r&&S(e)}),n.createElement(ek.E,{dragState:O})),E&&n.createElement(eD.cu,null),H&&!E&&!v&&n.createElement(ec,{resource:t}),n.createElement("div",{className:(0,eT.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},n.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},Q.name),(0,ea.$3)({resource:t,validBadges:[ea.op.PURCHASED],authedActiveCommunityProfile:p})||n.createElement(er.I,{badges:t.badges,height:"16",hideTooltip:!0})),n.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&n.createElement(n.Fragment,null,n.createElement(eL.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,Y.kB)(t)))),(!i||o)&&n.createElement("div",{className:"detail_view--actionsRow--sAwdf"},n.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},_&&!(0,$.k)().community_hub_admin_reviewer?n.createElement(ed.I,{resource:t,context:A.aL.INSERTS,payment:g}):z?n.createElement(eW.s,{version:Q,isPlugin:r}):X),n.createElement("div",{className:b.s.ml8.flex.itemsCenter.$},n.createElement(eB._W,{resourceId:e.resourceId,resourceType:r?A.vt.PLUGIN:A.vt.WIDGET,parentView:eB.nN.DETAIL})),i&&(0,ex.Th)(Q,N,k)?n.createElement(n.Fragment,null,n.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},n.createElement(j.K,{"aria-label":(0,h.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.more_options")},onClick:W},n.createElement(w.U,{className:"detail_view--moreOptionsIcon--najos",svg:eH.A,fallbackSvg:ez.A},n.createElement(Z.J,null)))),G&&n.createElement(eU.Gq,{resourceId:e.resourceId,plugin:Q,resourceType:r?A.vt.PLUGIN:A.vt.WIDGET})):n.createElement(j.K,{"aria-label":(0,h.t)("universal_insert.copy_link"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.copy_link")},onClick:U},n.createElement(w.U,{className:"detail_view--copyLinkIcon--PFKiL",svg:eY.A},n.createElement(K.W,null)))),n.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),n.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},n.createElement(eA.f,{resource:t})),n.createElement("div",{className:eQ},M&&(0,eh.Ul)(t)&&n.createElement("div",{className:eQ},n.createElement(ew,{openRatingModal:e=>{},isInsertsModal:!0}))),n.createElement(q.R,{fallback:null,errorFallback:null,value:Q.description})))),n.createElement(eK,{resourceId:e.resourceId})))}function eZ(){let{closeResource:e,activeTab:t}=(0,Y.IT)();return n.createElement(eM,{onBack:e,text:t===eG.s.PLUGIN?(0,h.tx)("universal_insert.plugin"):(0,h.tx)("universal_insert.widget")})}function eK(e){let{activeTab:t}=(0,Y.IT)(),a=t===eG.s.PLUGIN?"plugin":"widget",{href:r,onClick:l}=(0,eI.y)(`/community/${a}/${e.resourceId}`);return n.createElement(n.Fragment,null,n.createElement(J.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:r,onClick:l,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},n.createElement(et.B,{svg:eV.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,h.tx)("universal_insert.see_more_details_in_community")),n.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var e$=a(925085),eq=a(469508),eJ=a(531788),e0=a(990140),e1=a(88706),e4=a(833420),e8=a(87463),e7=a(65541),e3=a(4102);function e5({isDesktop:e}){return n.createElement(e4.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},n.createElement(et.B,{svg:e3.A,className:b.s.colorIconSecondary.pb24.$,autosize:!0,height:(0,eT.T)()?"64px":void 0}),n.createElement(e2,{isDesktop:e}))}function e2({isDesktop:e}){let t={learnMoreLink:n.createElement(eq.N,{href:"https://www.figma.com/plugin-docs",newTab:!0},(0,h.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return n.createElement(n.Fragment,null,e?n.createElement(n.Fragment,null,n.createElement("div",{className:b.s.alignCenter.$},n.createElement(e8.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.create_first_here")),n.createElement("br",null),n.createElement(e8.E,null,(0,h.tx)("dev_handoff.inspect_panel.learn_more_link",t))),n.createElement(e6,null)):n.createElement("div",{className:b.s.alignCenter.$},n.createElement(e8.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),n.createElement("br",null),n.createElement(e8.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),n.createElement("br",null),n.createElement(e8.E,null,(0,h.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function e6(){let e=(0,l.wA)(),t=(0,x.Um)(),a=t?.type===e7.kt,r=n.useCallback(t=>{a?e(I.oB()):e(I.j7({type:e7.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,a]);return n.createElement("div",{className:b.s.pt16.$},n.createElement(eJ.$n,{onClick:r,variant:"secondary"},n.createElement(e4.Y1,{direction:"horizontal",verticalAlignItems:"center",padding:0},n.createElement(e0.e,{className:b.s.pr8.$}),n.createElement(e8.E,null,(0,h.tx)("dev_handoff.inspect_panel.new_plugin")),n.createElement(e1.r,null))),a&&n.createElement("div",null,n.createElement(e7.Pq,{resourceType:A.bD.PLUGIN})))}var e9=a(490889);function te(){let{activeTab:e}=(0,Y.IT)(),t=(0,B.$A)((0,l.d4)(e=>e.selectedView)),a=(0,T.nl)({allowNonVsCodePluginsInVsCode:!0}),r=(0,T.yQ)(),s=e===eG.s.WIDGET,i=s?r:a,o=(0,R.M)(),c=(0,T.sp)(s);return o&&(Object.keys(i).length>0||c.length>0)?n.createElement(C.fu,{name:"Development"},Object.keys(i).map((e,t)=>n.createElement(eF.ff,{resourceId:e,key:e,type:eF.R7.DEVELOPMENT,keyboardNavigationPath:[Y.B6,t]})),c.map((e,t)=>n.createElement(eF.ff,{resourceId:e.id,key:e.id,type:eF.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[Y.B6,Object.keys(i).length+t]}))):t?n.createElement(e$.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,eT.T)()?"start":"center"},n.createElement(e5,{isDesktop:!!o})):n.createElement(e9.W,{isWidget:s})}var tt=a(834053),ta=a(542510),tr=a(7148),tn=a(575061);function tl(){let{activeTab:e}=(0,Y.IT)(),t=(0,tr.BI)(),a=(0,B.ks)(),{href:r,onClick:l}=(0,eI.y)(`/community/${e===eG.s.PLUGIN?"plugins":"widgets/figma_design"}${a?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:n.createElement(J.Ph,{className:tn.Qu,href:r,onClick:l,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},n.createElement(et.B,{svg:eV.A,className:tn.JX}),(0,h.tx)("universal_insert.browse_more_in_community"))}function ts({viewType:e,onBackPress:t}){let a=(0,Y.NF)(Y.gC);return n.createElement(n.Fragment,null,n.createElement(ti,{viewType:e,onBackPress:t}),n.createElement(f.P,{height:a,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement(to,{viewType:e}),n.createElement(tl,null)))}function ti({viewType:e,onBackPress:t}){let a;let{activeTab:r}=(0,Y.IT)(),l=r===eG.s.PLUGIN;return a=e===eG.Y.ORG_PRIVATE_EXPANDED_LIST?l?(0,h.tx)("universal_insert.all_internal_plugins"):(0,h.tx)("universal_insert.all_internal_widgets"):l?(0,h.tx)("universal_insert.all_approved_plugins"):(0,h.tx)("universal_insert.all_approved_widgets"),n.createElement("div",{className:tn.cB},n.createElement("div",{className:tn.kb},n.createElement(et.B,{svg:eS.A,className:tn.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),n.createElement("div",{className:tn.A_},a)),n.createElement(Y.Ex,{containerClassName:tn.VN}))}function to({viewType:e}){let t;let{activeTab:a}=(0,Y.IT)(),r=(0,ta.h)("plugin"),l=(0,ta.h)("widget"),s=a===eG.s.WIDGET,i=(0,T.ll)(),o=(0,tt.bT)(Object.values(i)),c=(0,T.U6)(),d=s?Object.keys(c):o.map(e=>e.plugin_id);return t=e===eG.Y.ORG_PRIVATE_EXPANDED_LIST?n.createElement(n.Fragment,null,(s?l:r).map((e,t)=>n.createElement(eF.ff,{resourceId:e.plugin_id,type:eF.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[Y.B6,t]}))):n.createElement(n.Fragment,null,d.map((e,t)=>n.createElement(eF.ff,{resourceId:e,type:eF.R7.COMMUNITY,key:e,keyboardNavigationPath:[Y.B6,t]}))),n.createElement("div",{className:tn.QF},t)}var tc=a(135451),td=a(813009),tm=a(757202),tu=a(730143),t_=a(318147),tg=a(922484),tE=a(138528),tv=a(764474),tf=a(987294),tp=a(16929);function tw(e){let t=(0,tE.rs)("OrgView").unwrapOr(null),a=(0,tE.H3)(t);return a?n.createElement(tb,{currentOrgId:a,viewExpandedList:e.viewExpandedList}):n.createElement(ee.kt,{className:tn.S})}function tb(e){let{currentOrgId:t,viewExpandedList:a}=e,r=(0,tE.tJ)("_OrgView").unwrapOr(null),s=r?.pluginsWhitelistEnforced??!1,i=r?.widgetsWhitelistEnforced??!1,{activeTab:o}=(0,Y.IT)(),c=o===eG.s.WIDGET,d=(0,ta.h)("plugin"),m=(0,tt.bT)(d),u=(0,ta.h)("widget"),_=c?u:m,g=_.length>0,E=c?i:s,v=c?tv.n_:tv.Gb,f=(0,tu.tS)(),p=(0,tg.mC)(v(t,f)),b=(0,T.ll)(),y=(0,tt.bT)(Object.values(b)).map(e=>e.plugin_id),N=(0,T.U6)(),I=n.useMemo(()=>Object.keys(N),[N]),k=(0,T.Be)(),P=(0,T.pR)(k),x=P.orgWidgets,L=P.orgPlugins,R=(0,l.d4)(e=>e.orgUsersByOrgId[t][e.user.id]?.permission===t_._D.GUEST),A=(0,td.R)(e=>R?{}:(0,ex.Qt)((0,ex.i8)(Object.values(e.publishedPlugins)),t)),B=n.useMemo(()=>{let e=Object.values(L).filter(e=>!A[e.plugin_id]);return s&&(e=e.filter(e=>b[e.plugin_id])),e.sort(T.YW)},[b,s,A,L]),O=(0,tt.Ol)(B);O=(0,tt.bT)(O);let S=n.useMemo(()=>O.map(e=>e.plugin_id),[O]),M=n.useMemo(()=>y.filter(e=>!L[e]),[y,L]),U=n.useMemo(()=>{let e=Object.values(x).filter(e=>!(0,tm.s7)(e,t));return i&&(e=e.filter(e=>N[e.plugin_id])),e.sort(T.YW)},[x,i,t,N]),G=(0,tt.Ol)(U),W=n.useMemo(()=>G.map(e=>e.plugin_id),[G]),F=n.useMemo(()=>I.filter(e=>!x[e]),[I,x]),Q=c?F:M,V=c?W:S,H=g?n.createElement(n.Fragment,null,(E?_.slice(0,Y.Xo):_).map((e,t)=>n.createElement(eF.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eF.R7.ORG_PRIVATE,keyboardNavigationPath:[Y.B6,t]})),E&&_.length>Y.Xo&&n.createElement(th,{viewExpandedList:()=>{a(eG.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:c?(0,h.t)("universal_insert.all_internal_widgets"):(0,h.t)("universal_insert.all_internal_plugins")})):n.createElement("div",{className:tn.zN},c?(0,h.tx)("universal_insert.no_internal_widgets"):(0,h.tx)("universal_insert.no_internal_plugins")),{href:z,onClick:X}=(0,eI.y)(`/community/${c?"widgets":"plugins"}`),Z=E&&n.createElement(n.Fragment,null,n.createElement("div",{className:tn.Uj}),n.createElement("div",{className:tn.sH},(0,h.tx)("universal_insert.approved_from_figma_community"),n.createElement("a",{href:z,target:"_blank"},n.createElement(j.K,{onClick:X,"aria-label":(0,h.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")}},n.createElement(w.U,{svg:tp.A},n.createElement(tc.N,null))))),p&&0===Q.length?n.createElement("div",{className:tn.zN},c?(0,h.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,h.tx)("universal_insert.organization_has_no_approved_community_plugins")):n.createElement(n.Fragment,null,(g?Q.slice(0,5):Q).map((e,t)=>n.createElement(eF.ff,{key:e,resourceId:e,type:eF.R7.COMMUNITY,keyboardNavigationPath:[Y.B6+1,t]})),g&&Q.length>5&&n.createElement(th,{viewExpandedList:()=>{a(eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:c?(0,h.t)("universal_insert.all_approved_widgets"):(0,h.t)("universal_insert.all_approved_plugins")}))),K=V.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:tn.Wz}),n.createElement("div",{className:tn.sH},(0,h.tx)("universal_insert.saved_from_community"),n.createElement("a",{href:z,target:"_blank"},n.createElement(j.K,{"aria-label":(0,h.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")},onClick:X},n.createElement(w.U,{svg:tp.A},n.createElement(tc.N,null))))),V.map((e,t)=>n.createElement(eF.ff,{key:e,resourceId:e,type:eF.R7.SAVED,keyboardNavigationPath:[Y.B6+2,t]}))):n.createElement(n.Fragment,null,n.createElement("div",{className:tn.Wz}),n.createElement("div",{className:tn.sH},(0,h.tx)("universal_insert.saved_from_community"),n.createElement("a",{href:z,target:"_blank"},n.createElement(j.K,{onClick:X,"aria-label":(0,h.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")}},n.createElement(w.U,{svg:tp.A},n.createElement(tc.N,null))))),n.createElement("div",{className:tn.zN},c?(0,h.tx)("universal_insert.no_saved_widgets"):(0,h.tx)("universal_insert.no_saved_plugins")));return n.createElement(C.fu,{name:"Org"},H,K,Z)}function th(e){return n.createElement("button",{onClick:e.viewExpandedList,className:tn.nZ},n.createElement("span",null,e.ctaText),n.createElement(et.B,{svg:tf.A}))}var ty=a(29420),tN=a(430385),tI=a(938982),tC=a(989232),tT=a(998568),tk=a(149841),tP=a(178806),tx=a(49821),tL=a(664449),tR=a(700660),tA=a(221511),tD=a(660948);function tB({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:a}){let{activeTab:r}=(0,Y.IT)(),s=r===eG.s.WIDGET,i=(0,B.ks)(),o=(0,d.md)(N.RB)&&i,[c,m]=n.useState(!1),{allowListIsLoading:u,allowList:_,hasAllowList:g,hasPluginAllowList:E,hasWidgetAllowList:v,publicExtensionsDisallowed:f}=(0,T.jA)(s),p=(0,tt.bT)(Object.values(_)).map(e=>e.plugin_id),[b,y]=n.useState(null),[I,k]=n.useState(null),[P,x]=n.useState(!1),[L,R]=n.useState(!1),A=(0,l.wA)();n.useEffect(()=>{let e=c!==o;if(E||f||!e&&null!==b||P)return;x(!0);let t={sort_by:tD.eg.POPULAR};i?(t.editor_type=tR.k.Editors.DEV_MODE,o&&(t.capability_type=tL.h.CODEGEN)):t.editor_type=tR.k.Editors.FIGMA,(0,tx.nC)().filter(t).browse(tA.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;A(ey.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),y((0,tN.k4)(t)),x(!1),m(o)}).catch(e=>{(0,tT.$D)(tI.e.COMMUNITY,e),x(!1),y([]),m(o)})},[A,b,P,i,g,E,f,o,c]),n.useEffect(()=>{v||null!==I||L||(R(!0),(0,tx.nC)().filter({sort_by:tD.eg.POPULAR,editor_type:tR.k.Editors.FIGMA}).browse(tA.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;A(ey.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),k((0,tN.k4)(t)),R(!1)}).catch(e=>{(0,tT.$D)(tI.e.COMMUNITY,e),R(!1),k([])}))},[A,I,L,g,v]);let O=s?I:b,S=s?L:P,{href:M,onClick:U}=(0,eI.y)(`/community/${r===eG.s.PLUGIN?"plugins":"widgets"}`);return n.useMemo(()=>{if(g?u:S)return n.createElement(ee.kt,{className:tn.S});if(!(null!==O)&&!g)return null;let l=g?p:O.map(e=>e.id);return f||0===l.length?null:n.createElement(C.fu,{name:g?"Approved plugins":"From Community"},n.createElement("div",{className:a?tn.Wz:tn.Uj}),n.createElement("div",{className:tn.sH,"data-onboarding-key":"community_feed_header"},g?(0,h.tx)("universal_insert.approved_from_figma_community"):(0,h.tx)("universal_insert.from_community"),n.createElement("a",{href:M,target:"_blank"},n.createElement(tP.Me,{onClick:U,"aria-label":(0,h.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")},trackingEventName:"Inserts - Browse More From Community Icon Button"},n.createElement(w.U,{svg:tp.A},n.createElement(tc.N,null))))),l.slice(0,g?5:10).map((e,a)=>n.createElement(eF.ff,{key:e,type:eF.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,a]})),g&&l.length>5?n.createElement(th,{viewExpandedList:()=>{e(eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:s?(0,h.t)("universal_insert.all_approved_widgets"):(0,h.t)("universal_insert.all_approved_plugins")}):n.createElement(n.Fragment,null,n.createElement(tl,null),n.createElement(tk.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,tC.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:r})},style:i?{paddingBottom:30}:void 0})))},[g,u,S,O,p,f,M,U,s,e,t,a,r,i])}var tO=a(179507);function tS(e){let t=(0,T.Be)(),a=t.widgets,r=Object.values(t.plugins).sort(T.YW).filter(e=>"user"===e.installed_by),l=(0,tO.xx)(()=>r),s=(0,tt.Ol)(l()),i=(s=(0,tt.bT)(s)).map(e=>e.plugin_id),o=Object.values(a).sort(T.YW).filter(e=>"user"===e.installed_by),c=(0,tO.xx)(()=>o),d=(0,tt.Ol)(c()).map(e=>e.plugin_id);return n.useMemo(()=>e?d:i,[i,d,e])}function tM(e){let t=tS(e.isWidget),[a,r]=n.useState(!1),l=n.useMemo(()=>a?t:t.slice(0,40),[t,a]);return 0===t.length?null:n.createElement(C.fu,{name:"saved"},n.createElement("div",{className:tn.VA},(0,h.tx)("universal_insert.saved")),l.map((e,t)=>n.createElement(eF.ff,{key:e,resourceId:e,type:eF.R7.SAVED,keyboardNavigationPath:[Y.B6+1,t]})),t.length>40&&!a&&n.createElement("button",{className:tn.AR,onClick:()=>r(!0)},e.isWidget?(0,h.tx)("universal_insert.show_all_saved_widgets"):(0,h.tx)("universal_insert.show_all_saved_plugins")))}function tU(e){let{activeTab:t}=(0,Y.IT)(),a=(0,T.op)(),r=(0,T.qr)(),l=(0,T.Be)(),s=t===eG.s.WIDGET,{filterByAllowlist:i,filterByPublicResourcesAllowed:o}=(0,T.jA)(s),c=s?r:a;c=o(c=i(c)),c=(0,tt.bT)(c);let d=n.useMemo(()=>c.length>0?n.createElement(C.fu,{name:"recents"},n.createElement("div",{className:tn.VA,"data-onboarding-key":"recents_plugin_header"},(0,h.tx)("universal_insert.recents")),c.slice(0,Y.Zm).map((e,t)=>n.createElement(eF.ff,{key:e.plugin_id,type:eF.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[Y.B6,t]}))):n.createElement(n.Fragment,null),[c]),m=tS(s);if(!0===l.loaded&&c.length+m.length===0)return n.createElement(C.fu,{name:"Recents and saved"},n.createElement(ty.H,{isWidget:t===eG.s.WIDGET}),n.createElement(tB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:Y.B6+2}));let u=n.createElement(tM,{isWidget:t===eG.s.WIDGET}),_=c.length>0,g=m.length>0;return n.createElement(C.fu,{name:"Recents and saved"},d,g&&_&&n.createElement("div",{className:tn.Wz}),u,n.createElement(tB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:Y.B6+2}))}var tG=a(127974);function tW(){let e=n.useRef({}),t=n.useCallback((t,a)=>{e.current[t]=a},[]),a=n.useCallback(t=>e.current[t]||[],[]),r=n.useCallback(t=>t in e.current,[]),l=n.useCallback(()=>{e.current={}},[]);return n.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:a,hasQueryResultsCached:r,resetCache:l}),[t,a,r,l])}var tF=a(193743);let tQ=new tF.Ef([],{...em.Pk,keys:em.Kj}),tV=new tF.Ef([],{...em.Pk,keys:[{name:"name",weight:1}]}),tH=new tF.Ef([],{...em.Pk,keys:em.Kj});function tz(e){let t;let{activeTab:a}=(0,Y.IT)(),r=a===eG.s.WIDGET,l=(0,B.ks)(),s=e.query.trim(),{pluginServerSideSearch:i,pluginSearchIsLoading:o,pluginSearchHasResolved:c}=(0,T.I5)(tR.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:m,widgetSearchHasResolved:u}=(0,T.SG)(tR.k.Editors.FIGMA),{getResultsForQuery:_,setResultsForQuery:g,resetCache:E}=tW(),v=_(s),{getResultsForQuery:p,setResultsForQuery:w,resetCache:b}=tW(),y=p(s),{getResultsForQuery:N,setResultsForQuery:I,hasQueryResultsCached:P,resetCache:x}=tW(),R=tY(N(s),[v]),{getResultsForQuery:A,setResultsForQuery:D,hasQueryResultsCached:O,resetCache:S}=tW(),M=tY(A(s),[v,R]),{getResultsForQuery:U,setResultsForQuery:G,resetCache:W}=tW(),F=tY(U(s),[v,R,M]),{getResultsForQuery:Q,setResultsForQuery:V,hasQueryResultsCached:H,resetCache:z}=tW(),X=tY(Q(s),[v,R,M,F]);n.useEffect(()=>{E(),b(),x(),S(),z(),W()},[r,W,z,x,b,S,E]);let j=(0,T.Tg)(),Z=(0,T.qr)(),K=(0,T.$1)(),$=(0,T.yQ)(),q=(0,T.ll)(),J=(0,T.U6)(),et=(0,T.cW)(),ea=(0,T.ZT)(),er=(0,tG.k9)(()=>Object.keys(r?J:q).map(e=>(0,ex.uF)((r?ea:et)[e])),[q,ea,et,J,r]);n.useEffect(()=>{tQ.set(Object.values(r?Z:j))},[j,Z,r]),n.useEffect(()=>{tV.set(Object.values(r?$:K))},[K,$,r]),n.useEffect(()=>{tH.set(er)},[er]);let en=(0,L.sZ)(),{serverSideSearch:el,isLoading:es,hasResolved:ei}=a===eG.s.PLUGIN?{serverSideSearch:i,isLoading:o,hasResolved:c}:{serverSideSearch:d,isLoading:m,hasResolved:u};n.useEffect(()=>{""!==s&&(H(s)&&O(s)&&P(s)||el(s,e=>V(s,e),e=>D(s,e),e=>I(s,e)),g(s,tQ.search(s).map(e=>e.plugin_id)),w(s,tV.search(s).map(e=>e.localFileId.toString())),G(s,tH.search(s).map(e=>e.plugin_id)))},[s,H,P,O,el,G,V,I,w,D,g]);let eo=k.z4.getIsExtension()?Y.gC+Y.Ix:l?Y.gC+Y.Ix+Y.ff+8:Y.gC+Y.Ix,ec=(0,Y.NF)(eo),ed=l?tn.mH:tn.PP,em=l?tn.k8:tn.DN,eu=n.useCallback(t=>{let a=e.searchContainerRef.current;a&&(t>0?a.className=em:a.className=ed)},[e.searchContainerRef,em,ed]);n.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let e_=en&&(r?en.widgets_whitelist_enforced:en.plugins_whitelist_enforced),eg=(!e_||(0,eC.Cs)({org:en,isWidget:r}))&&X&&X.length>0&&ei,eE=e_&&F.length>0,ev=en&&M&&M.length>0&&ei,ef=R.length>0&&ei,ep=v.length>0,ew=y.length>0,eb=ei&&(eg||ev||ep||ef||eE);if(ei&&!(ep||ew||eb))t=n.createElement("div",{className:tn.zN},r?e_?(0,h.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:en.name,query:s}):(0,h.tx)("universal_insert.no_widgets_matching_query",{query:s}):e_?(0,h.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:en.name,query:s}):(0,h.tx)("universal_insert.no_plugins_matching_query",{query:s}));else{t=[];let e=Y.B6;ep&&(t.push(n.createElement(tj,{sectionHeader:(0,h.tx)("universal_insert.recents"),ids:v,type:eF.R7.RECENT,sectionIdx:e,key:eF.R7.RECENT})),e+=1),ew&&(t.push(n.createElement(tj,{sectionHeader:(0,h.tx)("universal_insert.development"),ids:y,type:eF.R7.DEVELOPMENT,key:eF.R7.DEVELOPMENT,sectionIdx:e})),e+=1),es&&!eb?t.push(n.createElement(ee.kt,{className:tn.S,key:"Loading spinner"})):(ef&&(t.push(n.createElement(tj,{sectionHeader:(0,h.tx)("universal_insert.saved"),ids:R,type:eF.R7.SAVED,key:eF.R7.SAVED,sectionIdx:e})),e+=1),ev&&(t.push(n.createElement(tj,{sectionHeader:en.name,ids:M,type:eF.R7.ORG_PRIVATE,key:eF.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),eE&&(t.push(n.createElement(tj,{sectionHeader:(0,h.tx)("universal_insert.approved_from_figma_community"),ids:F,type:eF.R7.COMMUNITY,key:`ALLOW_LIST_${eF.R7.COMMUNITY}`,sectionIdx:e})),e+=1),eg&&t.push(n.createElement(tj,{sectionHeader:(0,h.tx)("universal_insert.from_community"),ids:X,type:eF.R7.COMMUNITY,key:eF.R7.COMMUNITY,sectionIdx:e})))}return n.createElement(f.P,{height:ec,onScroll:eu,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement(C.fu,{name:"search",properties:{searchQuery:s,resourceType:a}},t))}let tY=(e,t)=>{let a={};return t.forEach(e=>e.forEach(e=>a[e]=!0)),e.filter(e=>!a[e])};function tX(e){return n.createElement("div",{onClick:()=>(0,tC.sx)("search result clicked"),"data-testid":`browse-resource-tile-${e.resourceId}`},n.createElement(eF.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tj(e){return n.createElement(n.Fragment,null,e.sectionIdx>Y.B6&&n.createElement("div",{className:tn.Wz}),n.createElement("div",{className:tn.bV},e.sectionHeader),e.ids.map((t,a)=>n.createElement(tX,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,a]})))}let tZ=()=>({[eG.s.COMPONENT]:{label:(0,h.t)("universal_insert.components"),tab:eG.s.COMPONENT,resourceTypeLabel:(0,h.t)("universal_insert.components_resource_type")},[eG.s.PLUGIN]:{label:(0,h.t)("community.view_bar.plugins"),tab:eG.s.PLUGIN,resourceTypeLabel:(0,h.t)("community.plugins.plugin")},[eG.s.WIDGET]:{label:(0,h.t)("community.view_bar.widgets"),tab:eG.s.WIDGET,resourceTypeLabel:(0,h.t)("community.plugins.widget")}});function tK(e){let t=tn.Mf,a=tn.xR;return n.createElement("div",{className:tn.Ng},n.createElement("div",{className:tn.oB},Object.entries(tZ()).map(([r,l])=>n.createElement("div",{className:tn.nN,key:r,role:"tab",onClick:()=>e.onClick(l.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},n.createElement("div",{key:r,"data-label":l.label,className:l.tab===e.selectedTab?a:t},l.label)))),n.createElement(Y.Ex,{containerClassName:tn.VN}))}var t$=a(343167),tq=a(383262);let tJ="BROWSE_CODEGEN_FILTER_DROPDOWN";function t0(){let e=n.useRef(null),{fdPreviewResource:t,initialFdView:a}=(0,l.d4)(e=>e.universalInsertModal),s=t?.id,{activeTab:i,currentView:o,setCurrentViewOrTab:c}=(0,Y.IT)(),d=(0,B.ks)(),m=d?tn.Hd:tn.Kl,[u,_]=n.useState(a?"":r||""),[E,f]=n.useState(eG.Y.MAIN),p=n.useCallback(e=>{if(e.keyCode===g.Uz.ENTER){let t=e.target,a=t?.querySelector("button");a?.click()}},[]);n.useEffect(()=>{r=u},[u]);let w=n.useMemo(()=>n.createElement(tK,{onClick:t=>{t!==eG.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:i}),[i,c]),b=n.useMemo(()=>{let t=d?tn.mH:tn.PP;return i===eG.s.COMPONENT?n.createElement(C.fu,{name:i},n.createElement(X,{header:w,query:u,setQuery:_})):n.createElement(C.fu,{name:i},!d&&w,n.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},n.createElement(v.dP,{onKeyDown:p},n.createElement("div",{className:t,ref:e},n.createElement(t1,{searchQuery:u,placeholder:i===eG.s.PLUGIN?(0,h.t)("universal_insert.search_all_plugins"):i===eG.s.WIDGET?(0,h.t)("universal_insert.search_all_widgets"):(0,h.t)("universal_insert.search_all_extensions"),setSearchQuery:_})),0===u.length&&n.createElement(t4,{viewExpandedList:f,currentView:o,setCurrentView:e=>c({newView:e})}),u.length>0&&n.createElement(tz,{query:u,searchContainerRef:e}))))},[i,p,u,d,w,o,c]),y=null;return s?y=n.createElement(eX,{resourceId:s}):(E===eG.Y.ORG_PRIVATE_EXPANDED_LIST||E===eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(y=n.createElement(v.dP,{onKeyDown:p},n.createElement(ts,{viewType:E,onBackPress:()=>f(eG.Y.MAIN)}))),n.createElement("div",{className:m},n.createElement("div",{className:y?tn.Ye:tn.dJ},b),y&&n.createElement("div",{className:tn.dJ},y))}function t1({searchQuery:e,setSearchQuery:t,placeholder:a}){let r=(0,l.wA)(),{setKeyboardNavigationElement:i}=(0,v.M3)({id:"search",path:[Y.np,0]}),m=(0,x.Um)(),g=m?.type===tJ,f=n.useRef(null),[b,C]=(0,d.fp)(N.RB),T=b&&!g,k=(0,P.LR)(),L=n.useCallback(a=>"Escape"===a.key&&(e?t(""):k(),!0),[k,e,t]),R=(0,_.A)(e=>{e.length>0?r(y.Dy({entryPoint:"figma:inserts"})):r(y.ky()),t(e)},300);n.useEffect(()=>()=>{r(y.ky())},[r]);let A=n.useCallback(()=>{g?r(I.oB()):r(I.j7({type:tJ}))},[r,g]),S=[];S.push(n.createElement(E.MM,{checked:b,onClick:()=>{C(!b),A()},role:"menuitemcheckbox"},(0,h.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let M=(0,B.ks)(),U=n.createElement(p.IW,{ref:e=>i(e?.searchInput??null),className:u()(M?tn.FK:tn.ON,{[tn.lX]:""===e}),clearSearch:()=>{r(y.ky()),t("")},focusOnMount:!M,hideXIcon:!e,isKeyDownHandled:L,onChange:R,placeholder:a,query:e,selectTextOnMount:!M});if(!M||e)return U;let G="dev-mode-codegen-filter-menu";return n.createElement("div",{className:tn.Ub},U,n.createElement("div",{className:tn.gP},n.createElement("div",{ref:f},n.createElement(s.d,{"aria-expanded":g,onClick:A,htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.inspect_panel.search_bar_filter")},"aria-label":(0,h.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-controls":G},n.createElement(w.U,{svg:T?tq.A:t$.A},T?n.createElement(o,{className:u()({[tn.Pt]:T})}):n.createElement(c.S,{className:u()({[tn.Pt]:T})}))))),g&&f.current&&n.createElement(O.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,hideDropdown:A,id:G,options:S,propagateCloseClick:!0,showPoint:!0,targetRect:f.current.getBoundingClientRect()}))}function t4(e){let t=n.useRef(null),a=(0,B.ks)(),r=k.z4.getIsExtension()?Y.Ix+Y.gC+48:a?Y.gC+Y.Kr+Y.Ix+Y.ff:Y.gC+Y.Kr+Y.Ix,{activeTab:s,currentView:i}=(0,Y.IT)(),o=(0,Y.NF)(r),c=n.useRef(null),d=(0,l.wA)(),m=n.useCallback(e=>{t.current&&(e>0?t.current.className=u()(tn.gD,tn.d3):t.current.className=u()(tn.q_,tn.d3),d(I.oB()))},[t,d]);n.useEffect(()=>{c.current?.scrollToTop()},[s,i]);let _=n.createElement(n.Fragment,null,n.createElement(t8,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&n.createElement(tU,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&n.createElement(te,null),"org"===e.currentView&&n.createElement(tw,{viewExpandedList:e.viewExpandedList}));return n.createElement("div",null,n.createElement("div",{className:u()(tn.q_,tn.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},n.createElement(t7,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&n.createElement("div",{className:tn.x0},n.createElement(M.n,{resourceType:s===eG.s.WIDGET?A.bD.WIDGET:A.bD.PLUGIN}))),n.createElement(f.P,{height:o,onScroll:m,innerClassName:a?b.s.hFull.$:"",ref:c},_))}function t8({currentView:e}){let{activeTab:t}=(0,Y.IT)(),a=L.sZ()?.id,r=(0,T.f6)(),l=(0,T.wW)(),s=t===eG.s.WIDGET?l:r,i="org"===e?s.filter(e=>e.org_id&&e.org_id===a):s;return 0===i.length?null:n.createElement("div",null,i.map((e,t)=>n.createElement(eF.ff,{resourceId:e.id,key:e.id,type:eF.R7.INVITED,keyboardNavigationPath:[Y.dQ,t]})),n.createElement("div",{className:tn.Wz}))}function t7(e){let t=(0,l.wA)(),a=(0,x.Um)(),r=(0,L.sZ)(),s=(0,R.M)(),i=n.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,h.t)("universal_insert.recents_and_saved");case"development":return(0,h.t)("universal_insert.development");case"org":return t?.name||(0,h.t)("universal_insert.from_your_org")}})(e,r),[r]),o=["recents_and_saved"];return(s&&o.push("development"),1!==o.length||r)?n.createElement(S.l6,{chevronClassName:tn.bq,className:tn.E3,dispatch:t,dropdownShown:a,dropdownWidth:173,formatter:{format:i},id:"fd-browse-modal-main-view-select",inputClassName:tn.yl,onChange:e.onChange,property:e.currentView},o.map(e=>n.createElement(S.c$,{value:e,key:e},i(e))),r&&n.createElement(S.sK,null),r&&n.createElement(S.c$,{value:"org"},i("org"))):n.createElement("div",{className:tn.ZE},n.createElement("div",{className:tn.yl},i(o[0])))}},14323:(e,t,a)=>{a.d(t,{P:()=>n,R:()=>l});var r=a(848318);function n(e){(0,r.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function l(e){let[t,a]=(0,r.useState)(window.innerWidth<=e);return n(r=>{r.width<=e&&!t?a(!0):r.width>e&&t&&a(!1)}),t}}}]);

//# debugId=1306ffbf-c821-5ba6-8499-fb59ce3afb9d

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/1a50c18c37a8e7fa213f9c55d3ae0c1399cfb37b/9648-7cee6b6a88663796.min.js.map